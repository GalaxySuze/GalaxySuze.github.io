<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://zhangajian.com</id>
    <title>å¼ é˜¿ç®€åšå®¢</title>
    <updated>2019-06-15T07:21:47.917Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://zhangajian.com"/>
    <link rel="self" href="https://zhangajian.com/atom.xml"/>
    <subtitle>Kill Time, Or Kiss Time</subtitle>
    <logo>https://zhangajian.com/images/avatar.png</logo>
    <icon>https://zhangajian.com/favicon.ico</icon>
    <rights>All rights reserved 2019, å¼ é˜¿ç®€åšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨Supervisoræ¥ç®¡ç†Laravelé˜Ÿåˆ—]]></title>
        <id>https://zhangajian.com/post/shi-yong-supervisor-lai-guan-li-laravel-dui-lie</id>
        <link href="https://zhangajian.com/post/shi-yong-supervisor-lai-guan-li-laravel-dui-lie">
        </link>
        <updated>2019-02-06T07:17:49.000Z</updated>
        <content type="html"><![CDATA[<h3 id="supervisoræ˜¯ä»€ä¹ˆ">Supervisoræ˜¯ä»€ä¹ˆ</h3>
<p><a href="http://supervisord.org/">Supervisor</a> æ˜¯åŸºäº Python çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´ç®€å•çš„å¯åŠ¨ã€é‡å¯å’Œåœæ­¢æœåŠ¡å™¨ä¸Šçš„åå°è¿›ç¨‹ï¼Œæ˜¯ Linux æœåŠ¡å™¨ç®¡ç†çš„æ•ˆç‡å·¥å…·ã€‚</p>
<p>ä»€ä¹ˆæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦è¿›ç¨‹ç®¡ç†å‘¢ï¼Ÿå°±æ˜¯æ‰§è¡Œä¸€äº›éœ€è¦ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼å¯åŠ¨çš„ç¨‹åºï¼Œæ¯”å¦‚ä¸€ä¸ªåå°ä»»åŠ¡ã€ä¸€ç»„ Web æœåŠ¡çš„è¿›ç¨‹ï¼ˆè¯´æ˜¯ä¸€ç»„ï¼Œæ˜¯å› ä¸ºç»å¸¸ç”¨ Nginx æ¥åšè´Ÿè½½å‡è¡¡ï¼‰ï¼Œè¿™äº›å¾ˆå¯èƒ½æ˜¯ä¸€äº›ç½‘ç«™ã€REST API çš„æœåŠ¡ã€æ¶ˆæ¯æ¨é€çš„åå°æœåŠ¡ã€æ—¥å¿—æ•°æ®çš„å¤„ç†åˆ†ææœåŠ¡ç­‰ç­‰ã€‚</p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ Supervisor æ˜¯é€šç”¨çš„è¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥å¯åŠ¨ä»»æ„è¿›ç¨‹ï¼Œä¸ä»…ä»…æ˜¯ç”¨æ¥ç®¡ç† Python è¿›ç¨‹ã€‚</p>
</blockquote>
<p>é™¤æ­¤ä¹‹å¤–ï¼ŒSupervisor è¿˜èƒ½å¾ˆå‹å¥½çš„ç®¡ç†ç¨‹åºåœ¨å‘½ä»¤è¡Œä¸Šè¾“å‡ºçš„æ—¥å¿—ï¼Œå¯ä»¥å°†æ—¥å¿—é‡å®šå‘åˆ°è‡ªå®šä¹‰çš„æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œè¿˜èƒ½æŒ‰æ–‡ä»¶å¤§å°å¯¹æ—¥å¿—è¿›è¡Œåˆ†å‰²ã€‚</p>
<p>ç›®å‰ Supervisor åªèƒ½è¿è¡Œåœ¨ Unix-Like çš„ç³»ç»Ÿä¸Šï¼Œä¹Ÿå°±æ˜¯æ— æ³•è¿è¡Œåœ¨ Windows ä¸Šã€‚Supervisor å®˜æ–¹ç‰ˆç›®å‰åªèƒ½è¿è¡Œåœ¨ Python 2.4 ä»¥ä¸Šç‰ˆæœ¬ï¼Œä½†æ˜¯è¿˜æ— æ³•è¿è¡Œåœ¨ Python 3 ä¸Šã€‚</p>
<p><strong>Supervisor æœ‰ä¸¤ä¸ªä¸»è¦çš„ç»„æˆéƒ¨åˆ†ï¼š</strong></p>
<ul>
<li><strong>supervisord</strong>ï¼Œè¿è¡Œ Supervisor æ—¶ä¼šå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ supervisordï¼Œå®ƒè´Ÿè´£å¯åŠ¨æ‰€ç®¡ç†çš„è¿›ç¨‹ï¼Œå¹¶å°†æ‰€ç®¡ç†çš„è¿›ç¨‹ä½œä¸ºè‡ªå·±çš„å­è¿›ç¨‹æ¥å¯åŠ¨ï¼Œè€Œä¸”å¯ä»¥åœ¨æ‰€ç®¡ç†çš„è¿›ç¨‹å‡ºç°å´©æºƒæ—¶è‡ªåŠ¨é‡å¯ã€‚</li>
<li><strong>supervisorctl</strong>ï¼Œæ˜¯å‘½ä»¤è¡Œç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œ stopã€startã€restart ç­‰å‘½ä»¤ï¼Œæ¥å¯¹è¿™äº›å­è¿›ç¨‹è¿›è¡Œç®¡ç†ã€‚</li>
</ul>
<h3 id="å®‰è£…">å®‰è£…</h3>
<pre><code class="language-shell">pip install supervisor
</code></pre>
<h3 id="åˆ›å»ºé…ç½®æ–‡ä»¶å‘½ä»¤">åˆ›å»ºé…ç½®æ–‡ä»¶å‘½ä»¤</h3>
<pre><code class="language-shell">echo_supervisord_conf &gt; /etc/supervisord.conf
</code></pre>
<h3 id="ä¿®æ”¹é»˜è®¤é…ç½®">ä¿®æ”¹é»˜è®¤é…ç½®</h3>
<blockquote>
<p>é»˜è®¤é…ç½®æ–‡ä»¶ä¸­çš„ supervisord.sockã€supervisord.log ä»¥åŠ supervisord.pid æ˜¯æ”¾åœ¨ /tmp ç›®å½•ä¸‹ï¼Œè¿™ä¸ªç›®å½•å­˜æ”¾çš„æ˜¯ Linux ä¸­çš„ä¸´æ—¶æ–‡ä»¶ï¼Œä¸€æ—¦è¢«ç³»ç»Ÿåˆ é™¤ï¼Œå°±ä¼šæç¤º unix:///tmp/supervisor.sock no such fileï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŠŠè¿™ä¸‰ä¸ªæ–‡ä»¶æ”¾åˆ°å…¶ä»–ç›®å½•ä¸­ä¿å­˜ã€‚</p>
</blockquote>
<pre><code class="language-vim">[unix_http_server]
;æ­¤å¤„ä¿®æ”¹ä¸º/var/runç›®å½•ï¼Œé¿å…è¢«ç³»ç»Ÿåˆ é™¤
file=/var/run/supervisor.sock   ; the path to the socket file

[supervisord]
;æ­¤å¤„ä¿®æ”¹ä¸º/var/log/supervisorç›®å½•
logfile=/var/log/supervisor/supervisord.log
...
;æ­¤å¤„ä¿®æ”¹ä¸º/var/runç›®å½•
pidfile=/var/run/supervisord.pid

[supervisorctl]
;æ­¤å¤„æ˜¯å…³é”®ï¼Œå¦åˆ™æ‰§è¡Œsupervisorctl statusä¼šæŠ¥å‡ºunix:// not foundé”™è¯¯
serverurl=unix:///var/run/supervisor.sock ; use a unix:// URL  for a unix socket

ï¼›åœ¨æœ€ååŠ ä¸Šincludeï¼Œæ–°å¢çš„é…ç½®å°†åœ¨/etc/supervisord.d/conf.dç›®å½•ä¸‹å¹¶ä»¥.confç»“å°¾
[include]
files = /etc/supervisord.d/conf.d/*.conf
</code></pre>
<h3 id="å¯åŠ¨æœåŠ¡">å¯åŠ¨æœåŠ¡</h3>
<pre><code class="language-shell">supervisord -c /etc/supervisord.conf
</code></pre>
<h3 id="æŸ¥çœ‹è¿›ç¨‹">æŸ¥çœ‹è¿›ç¨‹</h3>
<pre><code class="language-shell">pgrep supervisord | xargs ps -u --pid
</code></pre>
<h3 id="è¿›ç¨‹çš„é…ç½®">è¿›ç¨‹çš„é…ç½®</h3>
<p>æˆ‘ä»¬åœ¨ä¸Šé¢é»˜è®¤é…ç½®æ–‡ä»¶ä¸­åŠ å…¥äº† [include]ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ /etc/supervisord.d/conf.d ä¸‹æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ queue-worker.conf</p>
<pre><code class="language-vim">[program:queue-worker]  ;é¡¹ç›®åç§°
process_name=%(program_name)s_%(process_num)02d
command=php (å¡«å…¥ä½ çš„artisanè·¯å¾„)/artisan queue:work redis --sleep=3 --tries=3  ;éœ€è¦å¯åŠ¨çš„å‘½ä»¤
autostart=true
autorestart=true
user=root ;æ­¤å¤„å¡«å…¥ä½ è¿è¡ŒWEBåº”ç”¨çš„ç”¨æˆ·
numprocs=8  ;è¿›ç¨‹æ•°
redirect_stderr=true  ;æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ false
stdout_logfile=/var/log/supervisor/larashop-queue.log  ;æ³¨æ„åˆ†é…å¥½æ—¥å¿—æ–‡ä»¶å¤¹æƒé™
</code></pre>
<p>é…ç½®å®Œæˆåæˆ‘ä»¬æ‰§è¡Œ</p>
<pre><code class="language-shell">supervisorctl reread  # è¯»å–æœ‰æ›´æ–°ï¼ˆå¢åŠ ï¼‰çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä¼šå¯åŠ¨æ–°æ·»åŠ çš„ç¨‹åº
supervisorctl update # é‡å¯é…ç½®æ–‡ä»¶ä¿®æ”¹è¿‡çš„ç¨‹åº
supervisorctl start queue-worker:* # å¯åŠ¨ larashop-worker ç¨‹åº
</code></pre>
<blockquote>
<p>å¦‚æœæŠ¥å¦‚ä¸‹é”™è¯¯ï¼Œéœ€è¦åœ¨å‘½ä»¤è¡Œå·¥å…·å¢åŠ é…ç½®æ–‡ä»¶æŒ‡å‘</p>
</blockquote>
<pre><code class="language-shell">http://localhost:9001 refused connection
</code></pre>
<blockquote>
<p>è§£å†³æ–¹æ³•</p>
</blockquote>
<pre><code class="language-shell">supervisorctl -c /etc/supervisord/supervisord.conf reread
supervisorctl -c /etc/supervisord/supervisord.conf update
supervisorctl -c /etc/supervisord/supervisord.conf start msp-queue:*
</code></pre>
<p>æŸ¥çœ‹çŠ¶æ€</p>
<pre><code class="language-shell">[root@localhost vick]# supervisorctl -c /etc/supervisord/supervisord.conf status
msp-queue:msp-queue_00           RUNNING   pid 19965, uptime 0:00:29
msp-queue:msp-queue_01           RUNNING   pid 19964, uptime 0:00:29
msp-queue:msp-queue_02           RUNNING   pid 19967, uptime 0:00:29
msp-queue:msp-queue_03           RUNNING   pid 19966, uptime 0:00:29
msp-queue:msp-queue_04           RUNNING   pid 19969, uptime 0:00:29
msp-queue:msp-queue_05           RUNNING   pid 19968, uptime 0:00:29
msp-queue:msp-queue_06           RUNNING   pid 19971, uptime 0:00:29
msp-queue:msp-queue_07           RUNNING   pid 19970, uptime 0:00:29
</code></pre>
<p>è¯´æ˜ Laravel é˜Ÿåˆ—å·²ç»å¼€å§‹æ­£å¸¸è¿è¡Œäº†
å¦‚æœåœ¨ Laravel ä¸­ä¿®æ”¹äº†é˜Ÿåˆ—ä»£ç ï¼Œéœ€è¦é‡å¯ Supervisor æ‰èƒ½ç”Ÿæ•ˆ</p>
<h3 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h3>
<ul>
<li><a href="https://learnku.com/articles/22321">é…ç½® Supervisor ç®¡ç† Laravel é˜Ÿåˆ—</a></li>
<li><a href="https://www.restran.net/2015/10/04/supervisord-tutorial/">Python è¿›ç¨‹ç®¡ç†å·¥å…· Supervisor ä½¿ç”¨æ•™ç¨‹</a></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å†™åœ¨2018çš„å°¾å·´]]></title>
        <id>https://zhangajian.com/post/xie-zai-2018-de-wei-ba</id>
        <link href="https://zhangajian.com/post/xie-zai-2018-de-wei-ba">
        </link>
        <updated>2018-12-31T07:43:15.000Z</updated>
        <summary type="html"><![CDATA[<p>2018ï¼Œè½¬ç¬å°†è¿‡ã€‚</p>
<p>å®‡å®™ä¸‡è½½ï¼Œæ—¶å…‰èè‹’ï¼Œåœ¨çœ‹ä¸è§çš„å…‰é˜´ä¸­ï¼Œäººç”Ÿçš„åˆ»åº¦åˆé•¿äº†ä¸€åˆ†ï¼Œæƒ³æ¥ä¹Ÿè¯¥æœ‰å‡ åˆ†æ”¶è·ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>2018ï¼Œè½¬ç¬å°†è¿‡ã€‚</p>
<p>å®‡å®™ä¸‡è½½ï¼Œæ—¶å…‰èè‹’ï¼Œåœ¨çœ‹ä¸è§çš„å…‰é˜´ä¸­ï¼Œäººç”Ÿçš„åˆ»åº¦åˆé•¿äº†ä¸€åˆ†ï¼Œæƒ³æ¥ä¹Ÿè¯¥æœ‰å‡ åˆ†æ”¶è·ã€‚</p>
<!-- more -->
<p><strong>å·¥ä½œ</strong>ï¼šå…¥è¡Œå·²æ˜¯ä¸‰å¹´æœ‰ä½™ï¼Œé«˜å…´çš„æ˜¯ä»æ—§ä¸€å¤´ç§€å‘ï¼Œæ²®ä¸§çš„æ˜¯è¡£å¸¦æ¸æ¸å®½é˜”ã€‚ä½†æ•´ä¸ªä¸€å¹´æœ‰æƒŠæ— é™©ï¼Œæ‡Šæ¼ã€ç„¦è™‘è¿‡ï¼Œä¹Ÿæ˜æœ—ã€å¼€é˜”è¿‡ã€‚ä»å°ç±³CRMåˆ°ä¸Šæ±½ASCMï¼Œä¸€ç‚¹ä¸€çº¿çš„å˜åŒ–ä¸æ­¢äº0å’Œ1ä¹‹é—´ï¼Œæ›´æ˜¯è®¸å¤šäº‘æ³¥çª¥ç¼ä¸­äº§ç”Ÿçš„æ€ç»´ç¢°æ’ã€‚</p>
<p><strong>å…³é”®å¥</strong>ï¼š</p>
<ul>
<li>
<p>ã€ä½ è¦æ¯”ä¸šåŠ¡æ›´æ‡‚ä¸šåŠ¡ã€</p>
</li>
<li>
<p>ã€å¥½çš„äº§å“ï¼Œä»–é¦–å…ˆä¸€å®šæ˜¯å¥½ç”¨çš„äº§å“ã€</p>
</li>
<li>
<p>ã€ä½ å¹¶ä¸éœ€è¦é¢„æµ‹ä»€ä¹ˆä¼šå˜åŒ–ï¼Œä½ éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œå˜åŒ–å¿…ç„¶ä¼šå‘ç”Ÿã€‚ç¨‹åºåº”è¯¥ä¿è¯å°½å¯èƒ½åˆç†çš„çµæ´»æ€§ï¼Œè¿™æ ·æ‰èƒ½åœ¨æœªæ¥ä¸ç®¡å‘ç”Ÿä»€ä¹ˆå˜åŒ–ï¼Œéƒ½å¯ä»¥åº”ä»˜å¾—äº†ã€</p>
</li>
<li>
<p>ã€PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ã€</p>
</li>
<li>
<p>ã€å†™JavaScriptæ˜¯çœŸçš„å¾ˆè›‹ç–¼ã€</p>
</li>
</ul>
<p><strong>ç”Ÿæ´»</strong>ï¼šæ—¥å­è¿‡çš„ä¾æ—§ï¼Œå•è°ƒå­¤èµï¼Œåªæ˜¯ç†¬å¤œå˜æˆäº†å¸¸æ€ã€‚ä¸€ä¸ªäººèººåœ¨é»‘å¤œé‡Œï¼Œæ‰‹æœºå´è¿æ¥ç€æ•´ä¸ªå–§å“—çš„ä¸–ç•Œã€‚åªè¦ä½ ä¸åœä¸‹æ¥ï¼Œå®ƒæ°¸è¿œæœ‰æ–°é²œçš„ä¸œè¥¿å–‚å…»ç»™ä½ ï¼Œæˆ‘ä»¬è¢«è¿™å—å°å°çš„ç”µå­å±å¹•é©¯å…»æˆäº†ä¸€åªåˆä¸€åªä¿¡æ¯é¥•é¤®ã€‚ä½†åº†å¹¸çš„æ˜¯ï¼Œåœ¨æµè¿ä¸­åšè¿‡æ”¹å˜ï¼Œæˆ‘æŠŠå°å°çš„ç”µå­å±å¹•æ¢æˆäº†27å¯¸çš„å¤§æ˜¾ç¤ºå™¨ï¼Œå’³å’³ã€‚ã€‚ã€‚å½“ç„¶ï¼Œé‡ç‚¹çš„æ”¹å˜æ˜¯åœ¨å¹´ä¸­çš„ä¸€ä¸ªæ—¶è¾°ï¼Œçªç„¶æ‚Ÿäº†ã€‚å¸è½½äº†å¾®åšã€æŠ–éŸ³ã€æ¸¸æˆç­‰ç­‰çº·æ‚çš„è½¯ä»¶ï¼Œå–å…³äº†æ‰€æœ‰å¾®ä¿¡ä¿¡æ¯ç±»çš„å…¬ä¼—å·å’Œè®¢é˜…å·ï¼Œä¸Šä¸‹ç­å‡ºå‹¤çœ‹ç¼–ç¨‹è§†é¢‘ï¼Œåˆ°å®¶çœ‹ä¸“ä¸šä¹¦ç±ï¼Œæ¯æ™šå‡†11ç‚¹é—¹é’Ÿä¸€å“å°±æ´—æ¼±ç¡è§‰ã€‚æ´»ç”Ÿç”Ÿçš„åšæŒäº†2ä¸ªæœˆä¸åˆ°çš„æ—¶é—´ï¼Œçœ‹å®Œäº†120èŠ‚çš„ç¼–ç¨‹è§†é¢‘ï¼Œè¯»å®Œäº†3æœ¬ä¸“ä¸šä¹¦ã€‚å°½ç®¡åé¢å› ä¸ºå‡ºå·®å’Œä¸€äº›äº‹æƒ…ï¼Œæ…¢æ…¢çš„åˆå›åˆ°äº†åŸæ€ï¼Œä½†ä»Šå¹´åœ¨ç”Ÿæ´»å¸Œå†€ä¸Šåˆå¢åšäº†ä¸€ç¾½ã€‚</p>
<p><strong>å…³é”®å¥</strong>ï¼š</p>
<ul>
<li>ã€æˆ‘ä»ä¸ç›¸ä¿¡ä»€ä¹ˆæ‡’æ´‹æ´‹çš„è‡ªç”±ï¼Œæˆ‘å‘å¾€çš„è‡ªç”±æ˜¯é€šè¿‡å‹¤å¥‹å’ŒåŠªåŠ›å®ç°æ›´å¹¿é˜”çš„äººç”Ÿï¼Œé‚£æ ·çš„è‡ªç”±æ‰æ˜¯çè´µçš„ã€æœ‰ä»·å€¼çš„ã€‚æˆ‘ç›¸ä¿¡ä¸€ä¸‡å°æ—¶å®šå¾‹ï¼Œæˆ‘ä»æ¥ä¸ç›¸ä¿¡å¤©ä¸Šæ‰é¦…é¥¼çš„çµæ„Ÿå’Œåç­‰çš„æˆå°±ã€‚åšä¸€ä¸ªè‡ªç”±åˆè‡ªå¾‹çš„äººï¼Œé åŠ¿å¿…å®ç°çš„å†³å¿ƒè®¤çœŸåœ°æ´»ç€ã€‚ã€</li>
</ul>
<p><strong>2019 Flag</strong>ï¼š</p>
<p>æ¥ä¸‹æ¥åˆåˆ°äº†å¤§å®¶å–œæ¬¢çš„ç«‹ flag çš„ç¯èŠ‚ï¼Œ2019 flag ğŸ‘‰ ç˜¦ã€çœ ã€æ™ºã€å¸…ã€çŒ«ã€å¯Œå¯Œå¯Œå¯Œå¯Œå¯Œå¯Œå¯Œå¯Œå¯Œå¯Œå¯Œå¯Œ*1024ï¼Œå¸Œæœ›èƒ½å®Œæˆå…¶ä¸­çš„ä¸€é¡¹ï¼Œå…±å‹‰ã€‚</p>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<p>2018ï¼Œä¸å†è§ã€‚</p>
<p>2019ï¼Œç¥çˆ±æˆ‘çš„äººå’Œæˆ‘çˆ±çš„äººï¼Œä»¥åŠå¯çˆ±çš„äººä»¬ï¼Œå²æœˆå®‰å¥½ã€‚</p>
<p>æœ€åçš„æœ€åï¼Œæˆ‘çš„æ„¿æœ›æ˜¯ä¸–ç•Œå’Œå¹³ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åœ¨Linuxä¸‹æ­å»ºæˆ‘çš„ä¸–ç•Œ(Minecraft)æœåŠ¡å™¨]]></title>
        <id>https://zhangajian.com/post/zai-linux-xia-da-jian-wo-de-shi-jie-minecraftfu-wu-qi</id>
        <link href="https://zhangajian.com/post/zai-linux-xia-da-jian-wo-de-shi-jie-minecraftfu-wu-qi">
        </link>
        <updated>2018-12-21T07:46:17.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p>æœ€è¿‘è–…äº†ç™¾åº¦äº‘åŒ12çš„ç¾Šæ¯›ï¼Œ1æ ¸2Gä¸€å¹´150ã€‚çªç„¶æƒ³èµ·ä»¥å‰å¤§å­¦æ•´ä¸ªå®¿èˆé€šå®µå¼€é»‘æŒ–æ³¥åœŸçš„å²æœˆï¼Œæ‰€ä»¥åˆšå¥½è¶ç€è¿™å°æœåŠ¡å™¨ï¼Œæ‰“ç®—è‡ªå·±æ­å»ºä¸€ä¸ªæˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨ï¼Œé‡æ¸©ä¸€ä¸‹ä»¥å‰çš„æ„Ÿè§‰ã€‚</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>æœ€è¿‘è–…äº†ç™¾åº¦äº‘åŒ12çš„ç¾Šæ¯›ï¼Œ1æ ¸2Gä¸€å¹´150ã€‚çªç„¶æƒ³èµ·ä»¥å‰å¤§å­¦æ•´ä¸ªå®¿èˆé€šå®µå¼€é»‘æŒ–æ³¥åœŸçš„å²æœˆï¼Œæ‰€ä»¥åˆšå¥½è¶ç€è¿™å°æœåŠ¡å™¨ï¼Œæ‰“ç®—è‡ªå·±æ­å»ºä¸€ä¸ªæˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨ï¼Œé‡æ¸©ä¸€ä¸‹ä»¥å‰çš„æ„Ÿè§‰ã€‚</p>
</blockquote>
<!-- more -->
<h1 id="ç³»ç»Ÿè¦æ±‚-">ç³»ç»Ÿè¦æ±‚ - @</h1>
<p>googleåˆ°çš„MCç³»ç»Ÿè¦æ±‚:</p>
<ul>
<li>CPUï¼šåŒæ ¸</li>
<li>å†…å­˜ï¼š20-40äºº<strong>2GB</strong>ï¼Œ30-60äºº<strong>3GB</strong>ï¼Œ60+äºº<strong>8GB</strong></li>
</ul>
<p>ä¸Šé¢å°±æ˜¯æœåŠ¡å™¨ç«¯çš„éœ€æ±‚ï¼Œå¦‚æœåªæ˜¯å’Œå°ä¼™ä¼´ä»¬ä¸€èµ·ç©ï¼Œä¹Ÿå¹¶ä¸éœ€è¦å¤šä¼˜ç§€çš„æœåŠ¡å™¨ã€‚ä¸‹é¢æ˜¯æˆ‘çš„é…ç½®ï¼š</p>
<ul>
<li>CPUï¼šå•æ ¸</li>
<li>å†…å­˜ï¼š2G</li>
<li>Linuxç³»ç»Ÿï¼šCentOS 7.3 x86_64</li>
</ul>
<h1 id="å®‰è£…java">å®‰è£…Java</h1>
<p>MCæ˜¯ç”¨Javaå†™çš„ï¼ˆå½“ç„¶ç°åœ¨ä¹Ÿæœ‰åˆ«çš„è¯­è¨€å†™çš„ç‰ˆæœ¬ï¼‰ï¼Œç”±äºæœåŠ¡å™¨ç«¯çš„MCæ˜¯ä¸€ä¸ªjaråŒ…ï¼Œæˆ‘ä»¬åœ¨é…ç½®ä¹‹åé€šè¿‡è¿è¡ŒjaråŒ…æ¥å¼€å¯æœåŠ¡å™¨ç«¯ï¼ŒåŒæ—¶æˆ‘ä»¬åœ¨å®¢æˆ·ç«¯ä¸Šæ‰“å¼€åé€šè¿‡IPåœ°å€å³å¯æœç´¢å¹¶è¿›å…¥æœåŠ¡å™¨ã€‚æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆè¦å…ˆå®‰è£…Javaã€‚é€šè¿‡ä¸‹é¢çš„æ–¹æ³•æ¥å®‰è£…ï¼š</p>
<pre><code class="language-shell">yum install -y java-1.8.0-openjdk
</code></pre>
<h1 id="ä¸‹è½½mcæœåŠ¡å™¨ç«¯">ä¸‹è½½MCæœåŠ¡å™¨ç«¯</h1>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªè¦æ±‚ï¼Œå°±æ˜¯ä½ å’Œä½ çš„å°ä¼™ä¼´è¦æ‹¥æœ‰åŒæ ·ç‰ˆæœ¬çš„MCã€‚ä¸åŒçš„ç‰ˆæœ¬å¯¹åº”ç€ä¸åŒçš„æœåŠ¡å™¨ç«¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¸‹è½½æ­£ç¡®çš„ç‰ˆæœ¬ã€‚å¦‚ä½•çœ‹MCç‰ˆæœ¬å‘¢ï¼Œä¸€èˆ¬è¿›å…¥æ¸¸æˆåï¼Œæ¸¸æˆå·¦ä¸‹è§’ä¼šæœ‰ç‰ˆæœ¬æ˜¾ç¤ºã€‚çŸ¥é“äº†ç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆç”¨å‘½ä»¤å°±å¯ä»¥ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„æœåŠ¡å™¨ç«¯äº†ã€‚éœ€è¦æ ¹æ®ç‰ˆæœ¬å·è¡¥å…¨å‘½ä»¤æ ¼å¼ï¼š</p>
<pre><code class="language-shell">wget https://s3.amazonaws.com/Minecraft.Download/versions/&lt;ä½ è¦ä¸‹è½½çš„ç‰ˆæœ¬å·&gt;/minecraft_server.&lt;ä½ è¦ä¸‹è½½çš„ç‰ˆæœ¬å·&gt;.jar

</code></pre>
<p>ä¾‹å­ï¼šåšä¸»è¿™è¾¹é€‰æ‹©å®‰è£…äº†æ¯”è¾ƒç¨³å®šçš„1.12ç‰ˆæœ¬</p>
<pre><code class="language-shell">wget https://s3.amazonaws.com/Minecraft.Download/versions/1.12/minecraft_server.1.12.jar
</code></pre>
<p>ç­‰ä¸‹è½½æç¤ºç»“æŸåï¼Œminecraft_server.1.12.jarå°±èººåœ¨å½“å‰ç›®å½•äº†ã€‚</p>
<h1 id="mcæœåŠ¡å™¨å¯åŠ¨">MCæœåŠ¡å™¨ï¼Œå¯åŠ¨ï¼</h1>
<p>æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å‘½ä»¤æ¥è¿è¡ŒMCæœåŠ¡å™¨ï¼š</p>
<pre><code class="language-shell">java -Xms[åˆå§‹å¯åŠ¨åˆ†é…å†…å­˜] -Xmx[æœ€å¤§åˆ†é…å†…å­˜] -jar [jaråŒ…æ‰€åœ¨è·¯å¾„]/minecraft_server.[ç‰ˆæœ¬å·].jar nogui
</code></pre>
<p>ä¾‹å­ï¼š</p>
<pre><code class="language-shell">java -Xms256m -Xmx512m -jar /home/mc/minecraft_server.1.12.jar nogui
</code></pre>
<blockquote>
<p>å…³äºå‘½ä»¤æœ€åä¸€ä¸ªå‚æ•° noguiï¼Œæ˜¯åˆ†å¼€çš„å•è¯ no guiï¼Œæ„æ€æ˜¯ä¸éœ€è¦å›¾å½¢ç•Œé¢ï¼Œè¿™æ ·ä¼šå¤§å¤§å‡å°å†…å­˜çš„ä½¿ç”¨ï¼Œå¦‚æœä½ çš„Linuxæ˜¯æœ‰å›¾å½¢ç•Œé¢çš„ï¼Œå°±å¯ä»¥ä¸æ‰“è¿™ä¸ª noguiã€‚</p>
</blockquote>
<h1 id="å¯åŠ¨æˆåŠŸ">å¯åŠ¨æˆåŠŸ</h1>
<p>ä¸Šé¢çš„å‘½ä»¤è¾“å…¥å®Œæˆåï¼Œç­‰å¾…å‚æ•°ç”±0%ä¸€ç›´åˆ°100%å°±å¯åŠ¨å®Œæˆå•¦ï¼ä¸‹é¢ç»™å‡ºåšä¸»å¯åŠ¨å®Œæˆçš„åå‡ è¡Œæ˜¾ç¤ºï¼š</p>
<pre><code class="language-shell">[05:58:08] [Server thread/INFO]: Loaded 488 advancements
[05:58:08] [Server thread/INFO]: Preparing start region for level 0
[05:58:09] [Server thread/INFO]: Preparing spawn area: 0%
[05:58:10] [Server thread/INFO]: Preparing spawn area: 41%
[05:58:11] [Server thread/INFO]: Preparing spawn area: 76%
[05:58:11] [Server thread/INFO]: Done (4.263s)! For help, type &quot;help&quot; or &quot;?&quot;
</code></pre>
<h1 id="mcshellè„šæœ¬å¯åŠ¨">MCï¼ŒShellè„šæœ¬å¯åŠ¨ï¼</h1>
<p>æˆ‘ä»¬å¦‚æœä¸€ç›´ä½¿ç”¨ä¸Šé¢é‚£ä¸€å¥å¯åŠ¨çš„è¯æ˜¯ä¸æ˜¯éå¸¸éº»çƒ¦ï¼æ¯æ¬¡éƒ½è¦å¤åˆ¶ç²˜è´´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªç®€å•çš„Shellè„šæœ¬ï¼Œæ”¾åœ¨jaråŒ…æ‰€åœ¨ç›®å½•ï¼Œæ¯æ¬¡å¯åŠ¨çš„æ—¶å€™ç›´æ¥å¯åŠ¨è„šæœ¬å°±èƒ½è¿›å…¥æ¸¸æˆäº†ã€‚</p>
<pre><code class="language-shell">vim start-game.sh
</code></pre>
<p>ç¼–è¾‘å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-vim">#!/bin/sh

java -Xms256m -Xmx512m -jar /home/mc/minecraft_server.1.12.jar nogui
</code></pre>
<p>ä¿å­˜é€€å‡ºï¼Œæ¯æ¬¡å¯åŠ¨æ¸¸æˆåªéœ€è¦è¿è¡Œä¸‹é¢å‘½ä»¤å³å¯:</p>
<pre><code class="language-shell">bash start-game.sh
</code></pre>
<h1 id="mcæœåŠ¡å™¨å…³é—­">MCæœåŠ¡å™¨ï¼Œå…³é—­ï¼</h1>
<p>æŒ‰ Ctrl + C æ¥åœæ­¢å½“å‰æœåŠ¡å™¨</p>
<h1 id="mcæœåŠ¡èµ·æœ€å¸¸è§çš„å¯åŠ¨å¤±è´¥">MCæœåŠ¡èµ·æœ€å¸¸è§çš„å¯åŠ¨å¤±è´¥</h1>
<p>æˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œå®ŒjaråŒ…åï¼Œæ— è®ºæ˜¯å¦è¿è¡ŒæˆåŠŸï¼Œéƒ½èƒ½å‘ç°å½“å‰ç›®å½•ä¸‹å¤šå‡ºäº†ä¸€å †æ–‡ä»¶ï¼Œè¿è¡Œå¤±è´¥çš„æ—¶å€™å…¶å®å°±æ˜¯é…ç½®é™¤äº†ä¸€ç‚¹é—®é¢˜ã€‚æˆ‘ä»¬åœ¨å½“å‰ç›®å½•æ‰¾ä¸€ä¸‹æ–‡ä»¶ï¼š<strong>eula.txt</strong></p>
<pre><code class="language-shell">vim eula.txt
</code></pre>
<p>æŒ‰ié”®è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œæ‰¾åˆ°å¦‚ä¸‹ä¸€è¡ŒæŠŠ <strong>false</strong> æ”¹ä¸º <strong>true</strong></p>
<pre><code class="language-vim">eula=false
</code></pre>
<p>ä¿å­˜é€€å‡º</p>
<ul>
<li>æŒ‰ <strong>esc</strong></li>
<li>è¾“å…¥ <strong>:wq</strong></li>
</ul>
<h1 id="å®¢æˆ·ç«¯è¿æ¥mcæœåŠ¡å™¨å¤±è´¥">å®¢æˆ·ç«¯è¿æ¥MCæœåŠ¡å™¨å¤±è´¥</h1>
<p>ä¸Šé¢éƒ½å¯åŠ¨æˆåŠŸä¹‹åï¼Œå°±å¯ä»¥ä¸‹è½½å¯¹åº”æœåŠ¡å™¨ç‰ˆæœ¬çš„å®¢æˆ·ç«¯ã€‚ä¸‹è½½å¥½åå¯åŠ¨ï¼Œç‚¹å‡»å¤šäººæ¸¸æˆï¼Œæ·»åŠ æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åœ°å€è¾“å…¥æˆ‘ä»¬äº‘æœåŠ¡å™¨çš„å…¬ç½‘IPï¼Œå°±å¯è¿æ¥ä¸Šå»æ„‰å¿«çš„ç©è€äº†ã€‚ä½†æ˜¯è¿™æ—¶å€™å¯èƒ½ä¼šå‘ç°å°±æ˜¯æ€ä¹ˆè¿æ¥éƒ½å¤±è´¥ï¼Œå¦‚æœé‡åˆ°è¿™ä¸ªæƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥ä¸‹æœåŠ¡å™¨é…ç½®æ–‡ä»¶ï¼Œå…ˆåœ¨jaråŒ…ç›®å½•ä¸‹æ‰¾åˆ°æ–‡ä»¶server.propertices å¹¶ç¼–è¾‘ï¼š</p>
<pre><code class="language-shell">vim server.propertices
</code></pre>
<p>æ‰¾åˆ°è¿™ä¸€è¡Œ</p>
<pre><code class="language-vim">online-mode:true
</code></pre>
<p>å°†trueæ”¹ä¸ºfalseï¼Œè¿™æ˜¯æ­£ç‰ˆéªŒè¯æœåŠ¡çš„è®¾ç½®
å…³äº <strong>server.propertices</strong> æ–‡ä»¶ï¼Œè¿™è¾¹å°±ä¸å¤šåšä»‹ç»äº†ï¼Œå¯é€šè¿‡ä¸‹é¢çš„é“¾æ¥äº†è§£è¯¦æƒ…</p>
<ul>
<li><a href="http://www.mcbbs.net/thread-569077-1-1.html">æœåŠ¡å™¨é…ç½®æ–‡ä»¶è¯¦ç»†è®¾ç½®</a></li>
<li><a href="https://minecraft-zh.gamepedia.com/Server.properties">æˆ‘çš„ä¸–ç•ŒWiKi</a></li>
</ul>
<h1 id="ä¿æŒæœåŠ¡ä¼šè¯">ä¿æŒæœåŠ¡ä¼šè¯</h1>
<p>å› ä¸ºåšä¸»ç”¨çš„æ˜¯äº‘æœåŠ¡å™¨ï¼Œéœ€è¦é€šè¿‡ä½¿ç”¨sshå·¥å…·æ¥è¿æ¥åˆ°æœåŠ¡å™¨å¯åŠ¨æ¸¸æˆæœåŠ¡ï¼Œä½†æ˜¯ä¸€èˆ¬æœåŠ¡å™¨å’Œsshå·¥å…·éƒ½ä¼šæœ‰è¿æ¥ä¼šè¯çš„è¶…æ—¶è®¾ç½®ï¼Œåœ¨ä¸€æ®µæ—¶é—´æ²¡æœ‰åœ¨æœåŠ¡å™¨ä¸Šæ“ä½œåï¼Œä¼šè‡ªåŠ¨æ–­å¼€sshä¼šè¯ï¼Œè¿™æ—¶è¿™ä¸ªä¼šè¯ä¸­çš„ä»»åŠ¡å°±ä¼šè¢«æ€æ‰ï¼Œé‚£å°ä¼™ä¼´ä»¬æ¸¸æˆç©ç€ç©ç€å°±<strong>ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥</strong>äº†ã€‚
è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Linuxä¸Šè¿™ä¸ª <strong>GNU Screen</strong> å·¥å…·æ¥è§£å†³ä¸Šè¿°é—®é¢˜</p>
<blockquote>
<p>GNU Screenæ˜¯ä¸€æ¬¾ç”±GNUè®¡åˆ’å¼€å‘çš„ç”¨äºå‘½ä»¤è¡Œç»ˆç«¯åˆ‡æ¢çš„è‡ªç”±è½¯ä»¶ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¯¥è½¯ä»¶åŒæ—¶è¿æ¥å¤šä¸ªæœ¬åœ°æˆ–è¿œç¨‹çš„å‘½ä»¤è¡Œä¼šè¯ï¼Œå¹¶åœ¨å…¶é—´è‡ªç”±åˆ‡æ¢ã€‚GNU Screenå¯ä»¥çœ‹ä½œæ˜¯çª—å£ç®¡ç†å™¨çš„å‘½ä»¤è¡Œç•Œé¢ç‰ˆæœ¬ã€‚å®ƒæä¾›äº†ç»Ÿä¸€çš„ç®¡ç†å¤šä¸ªä¼šè¯çš„ç•Œé¢å’Œç›¸åº”çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<h4 id="å®‰è£…-screen">å®‰è£… screen</h4>
<pre><code class="language-shell">yum install -y screen
</code></pre>
<h4 id="è¯­æ³•">è¯­æ³•ï¼š</h4>
<p>screen [-AmRvx -ls -wipe][-d &lt;ä½œä¸šåç§°&gt;][-h &lt;è¡Œæ•°&gt;][-r &lt;ä½œä¸šåç§°&gt;][-s ][-S &lt;ä½œä¸šåç§°&gt;]</p>
<p>å‚æ•°è¯´æ˜</p>
<ul>
<li>-A ã€€å°†æ‰€æœ‰çš„è§†çª—éƒ½è°ƒæ•´ä¸ºç›®å‰ç»ˆç«¯æœºçš„å¤§å°ã€‚</li>
<li>-d &lt;ä½œä¸šåç§°&gt; ã€€å°†æŒ‡å®šçš„screenä½œä¸šç¦»çº¿ã€‚</li>
<li>-h &lt;è¡Œæ•°&gt; ã€€æŒ‡å®šè§†çª—çš„ç¼“å†²åŒºè¡Œæ•°ã€‚</li>
<li>-m ã€€å³ä½¿ç›®å‰å·²åœ¨ä½œä¸šä¸­çš„screenä½œä¸šï¼Œä»å¼ºåˆ¶å»ºç«‹æ–°çš„screenä½œä¸šã€‚</li>
<li>-r &lt;ä½œä¸šåç§°&gt; ã€€æ¢å¤ç¦»çº¿çš„screenä½œä¸šã€‚</li>
<li>-R ã€€å…ˆè¯•å›¾æ¢å¤ç¦»çº¿çš„ä½œä¸šã€‚è‹¥æ‰¾ä¸åˆ°ç¦»çº¿çš„ä½œä¸šï¼Œå³å»ºç«‹æ–°çš„screenä½œä¸šã€‚</li>
<li>-s ã€€æŒ‡å®šå»ºç«‹æ–°è§†çª—æ—¶ï¼Œæ‰€è¦æ‰§è¡Œçš„shellã€‚</li>
<li>-S &lt;ä½œä¸šåç§°&gt; ã€€æŒ‡å®šscreenä½œä¸šçš„åç§°ã€‚</li>
<li>-v ã€€æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</li>
<li>-x ã€€æ¢å¤ä¹‹å‰ç¦»çº¿çš„screenä½œä¸šã€‚</li>
<li>-lsæˆ–--list ã€€æ˜¾ç¤ºç›®å‰æ‰€æœ‰çš„screenä½œä¸šã€‚</li>
<li>-wipe ã€€æ£€æŸ¥ç›®å‰æ‰€æœ‰çš„screenä½œä¸šï¼Œå¹¶åˆ é™¤å·²ç»æ— æ³•ä½¿ç”¨çš„screenä½œä¸šã€‚</li>
</ul>
<h4 id="å¸¸ç”¨screenå‚æ•°">å¸¸ç”¨screenå‚æ•°</h4>
<ul>
<li>screen -S yourname -&gt; æ–°å»ºä¸€ä¸ªå«yournameçš„session</li>
<li>screen -ls -&gt; åˆ—å‡ºå½“å‰æ‰€æœ‰çš„session</li>
<li>screen -r yourname -&gt; å›åˆ°yournameè¿™ä¸ªsession</li>
<li>screen -d yourname -&gt; è¿œç¨‹detachæŸä¸ªsession</li>
<li>screen -d -r yourname -&gt; ç»“æŸå½“å‰sessionå¹¶å›åˆ°yournameè¿™ä¸ªsession</li>
</ul>
<h4 id="ä¿æŒæˆ‘ä»¬çš„mcæœåŠ¡ä¼šè¯">ä¿æŒæˆ‘ä»¬çš„MCæœåŠ¡ä¼šè¯</h4>
<ul>
<li>æ–°å»ºä¸€ä¸ªscreenä¼šè¯</li>
</ul>
<pre><code class="language-shell">screen -S mcs
</code></pre>
<p>å½“è¾“å…¥è¿™ä¸ªå‘½ä»¤åï¼Œå°±ä¼šè¿›å…¥ <strong>mcs</strong> ä¼šè¯ï¼Œåœ¨å½“å‰ä¼šè¯ä¸‹ï¼Œè¾“å…¥ä¸Šé¢çš„å¯åŠ¨è„šæœ¬å‘½ä»¤ï¼Œç¡®è®¤æ¸¸æˆæ­£å¸¸å¯åŠ¨åï¼Œå°±å¯ä»¥æ”¾ç€ä¸ç®¡äº†ï¼Œåªè¦ä¸æ˜¯æœåŠ¡å™¨æŒ‚æ‰äº†ï¼ŒæœåŠ¡å°±ä¼šä¸€ç›´è¿è¡Œç€ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Macä¸‹ç ´è§£Beyond Compare]]></title>
        <id>https://zhangajian.com/post/mac-xia-po-jie-beyond-compare</id>
        <link href="https://zhangajian.com/post/mac-xia-po-jie-beyond-compare">
        </link>
        <updated>2018-12-05T07:50:59.000Z</updated>
        <content type="html"><![CDATA[<ul>
<li>
<p>1 . å»å®˜ç½‘ä¸‹è½½Beyond Compareå¹¶å®‰è£…</p>
</li>
<li>
<p>2 . è¿›å…¥Beyond Compareåº”ç”¨ç¨‹åºMacOSç›®å½•ä¸‹(/Applications/Beyond Compare.app/Contents/MacOS)</p>
</li>
<li>
<p>3 . å°†ä¸»å¯åŠ¨ç¨‹åºBCompareé‡å‘½åä¸ºBCompare.real</p>
</li>
<li>
<p>4 . åœ¨åŒçº§ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶å‘½åä¸ºBCompare</p>
</li>
</ul>
<pre><code class="language-shell">vim BCompare
</code></pre>
<p>å†™å…¥</p>
<pre><code class="language-vim">#!/bin/bash

rm &quot;/Users/$(whoami)/Library/Application Support/Beyond Compare/registry.dat&quot;

&quot;`dirname &quot;$0&quot;`&quot;/BCompare.real $@
</code></pre>
<blockquote>
<p>ps: ä»£ç æ„ä¹‰ï¼Œç¬¬ä¸€è¡Œæ˜¯æ³¨æ˜è§£é‡Šå™¨ï¼Œç¬¬äºŒè¡Œæ˜¯åˆ é™¤æ³¨å†Œä¿¡æ¯ï¼Œç¬¬ä¸‰è¡Œæ˜¯å¯åŠ¨çœŸæ­£çš„ä¸»ç¨‹åº</p>
</blockquote>
<ul>
<li>5 . ç»™æ–°å»ºçš„æ–‡ä»¶BCompareï¼Œæˆæƒæ–‡ä»¶æ‰§è¡Œæƒé™</li>
</ul>
<pre><code class="language-shell">chmod a+x /Applications/Beyond\ Compare.app/Contents/MacOS/BCompare
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬æ¯æ¬¡æ‰“å¼€è½¯ä»¶çš„æ—¶å€™ï¼Œéƒ½ä¼šå…ˆè‡ªåŠ¨åˆ æ‰æ³¨å†Œä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æ°¸ä¹…å…è´¹è¯•ç”¨äº†ã€‚</p>
<blockquote>
<p><a href="https://m.pythontab.com/article/1356">å‚è€ƒèµ„æ–™ - https://m.pythontab.com/article/1356</a></p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[é€šè¿‡Certbotå®‰è£…Let's Encryptè¯ä¹¦å®ç°å…¨ç«™çš„HTTPSè®¿é—®]]></title>
        <id>https://zhangajian.com/post/tong-guo-certbot-an-zhuang-lets-encrypt-zheng-shu-shi-xian-quan-zhan-de-https-fang-wen</id>
        <link href="https://zhangajian.com/post/tong-guo-certbot-an-zhuang-lets-encrypt-zheng-shu-shi-xian-quan-zhan-de-https-fang-wen">
        </link>
        <updated>2018-11-17T07:52:01.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ç›¸å…³çŸ¥è¯†">ç›¸å…³çŸ¥è¯†</h1>
<h3 id="httphttps-æ˜¯ä»€ä¹ˆ">HTTP/HTTPS æ˜¯ä»€ä¹ˆ?</h3>
<blockquote>
<p>ç®€å•æ¥è¯´ï¼ŒHTTP æ˜¯ä¸€ä¸ªä¼ è¾“ç½‘é¡µå†…å®¹çš„åè®®ï¼Œæ¯”å¦‚æˆ‘ä»¬æµè§ˆä¸€ä¸ªç½‘é¡µï¼Œç½‘é¡µä¸Šçš„æ–‡å­—ã€å›¾ç‰‡ã€ CSS ã€ JS ç­‰æ–‡ä»¶éƒ½æ˜¯é€šè¿‡ HTTP åè®®ä¼ è¾“åˆ°æˆ‘ä»¬çš„æµè§ˆå™¨ï¼Œç„¶åè¢«æˆ‘ä»¬çœ‹åˆ°ã€‚å› ä¸º HTTP æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œé€šè¿‡ HTTP åè®®ä¼ è¾“çš„å†…å®¹å¾ˆå®¹æ˜“è¢«å·çœ‹å’Œç¯¡æ”¹ï¼Œä¸ºäº†å®‰å…¨ï¼ˆä½ è‚¯å®šä¸æƒ³è¢«äººå·çœ‹æˆ–è€…ç¯¡æ”¹ç½‘é¡µå†…å®¹å§ï¼Œæ¯”å¦‚ç½‘ç«™é“¶è¡Œå¯†ç ä»€ä¹ˆçš„ã€‚ï¼‰å°±ä¸º HTTP åè®®å†åŠ ä¸Šäº†ä¸€å±‚ SSL/TLS å®‰å…¨åè®®ï¼Œæ‰€ä»¥å°±æœ‰äº† HTTPS ã€‚</p>
</blockquote>
<h3 id="ssltls-æ˜¯ä»€ä¹ˆ">SSL/TLS æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<blockquote>
<p>SSL æ˜¯æŒ‡å®‰å…¨å¥—æ¥å­—å±‚ï¼ˆSecure Sockets Layerï¼‰ï¼Œå†…å¿ƒçº¯æ´çš„åŒå­¦ä¹Ÿå¯ä»¥ç†è§£ä¸ºã€Œå¸¦å®‰å…¨å¥—çš„ HTTPã€ï¼Œå› ä¸ºå¸¦äº†å®‰å…¨å¥—ï¼Œæ‰€ä»¥å½“ç„¶ä¼šæ¯”è¾ƒå®‰å…¨ã€‚TLS æ˜¯ ä¼ è¾“å±‚å®‰å…¨åè®®ï¼ˆTransport Layer Securityï¼‰ï¼ŒSSL å’Œ TLS æ˜¯åŒä¸€ä¸ªä¸œè¥¿çš„ä¸åŒé˜¶æ®µï¼Œç†è§£ä¸ºåŒä¸€ä¸ªä¸œè¥¿ä¹Ÿè¡Œï¼Œéƒ½æ˜¯å®‰å…¨åè®®å°±å¯¹äº†ã€‚</p>
</blockquote>
<h3 id="ä¸ºä»€ä¹ˆè¦éƒ¨ç½²-https">ä¸ºä»€ä¹ˆè¦éƒ¨ç½² HTTPSï¼Ÿ</h3>
<blockquote>
<p>è¯´åˆ°åº•ï¼Œå°±æ˜¯ HTTPS æ›´å®‰å…¨ã€‚ç”šè‡³ä¸ºäº†å®‰å…¨ï¼Œä¸€ä¸ªä¸“ä¸šå¯é çš„ç½‘ç«™ï¼Œ HTTPS æ˜¯å¿…é¡»çš„ã€‚ Firefox å’Œ Chrome éƒ½è®¡åˆ’å°†æ²¡æœ‰é…ç½® SSL åŠ å¯†çš„ HTTP ç½‘ç«™æ ‡è®°ä¸ºä¸å®‰å…¨ï¼Œç›®å‰å®ƒä»¬ä¹Ÿæ­£åœ¨è”åˆå…¶ä»–ç›¸å…³çš„åŸºé‡‘ä¼šä¸å…¬å¸æ¨åŠ¨æ•´ä¸ªäº’è”ç½‘ HTTPS åŒ–ï¼Œç°åœ¨å¤§å®¶è®¿é—®çš„ä¸€äº›ä¸»è¦çš„ç½‘ç«™ã€‚å¦‚ Google å¤šå¹´å‰å°±å·²ç»å…¨éƒ¨å¯ç”¨ HTTPS ï¼Œå›½å†…çš„æ·˜å®ã€æœç‹—ã€çŸ¥ä¹ã€ç™¾åº¦ç­‰ç­‰ä¹Ÿå…¨é¢ HTTPS äº†ã€‚ç”šè‡³ Google å’Œç™¾åº¦çš„æœç´¢ç»“æœä¹Ÿæ­£åœ¨ç»™äºˆ HTTPS çš„ç½‘ç«™æ›´é«˜çš„æ’åå’Œä¼˜å…ˆæ”¶å½•æƒã€‚</p>
</blockquote>
<h3 id="æ€ä¹ˆéƒ¨ç½²-https-å‘¢">æ€ä¹ˆéƒ¨ç½² HTTPS å‘¢ï¼Ÿ</h3>
<blockquote>
<p>ä½ åªéœ€è¦æœ‰ä¸€å¼ è¢«ä¿¡ä»»çš„ CA ï¼ˆ Certificate Authority ï¼‰ä¹Ÿå°±æ˜¯è¯ä¹¦æˆæƒä¸­å¿ƒé¢å‘çš„ SSL å®‰å…¨è¯ä¹¦ï¼Œå¹¶ä¸”å°†å®ƒéƒ¨ç½²åˆ°ä½ çš„ç½‘ç«™æœåŠ¡å™¨ä¸Šã€‚ä¸€æ—¦éƒ¨ç½²æˆåŠŸåï¼Œå½“ç”¨æˆ·è®¿é—®ä½ çš„ç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨ä¼šåœ¨æ˜¾ç¤ºçš„ç½‘å€å‰åŠ ä¸€æŠŠå°ç»¿é”ï¼Œè¡¨æ˜è¿™ä¸ªç½‘ç«™æ˜¯å®‰å…¨çš„ï¼Œå½“ç„¶åŒæ—¶ä½ ä¹Ÿä¼šçœ‹åˆ°ç½‘å€å‰çš„å‰ç¼€å˜æˆäº† HTTPS ï¼Œä¸å†æ˜¯ HTTP äº†ã€‚</p>
</blockquote>
<h3 id="æ€ä¹ˆè·å¾—-ssl-å®‰å…¨è¯ä¹¦å‘¢">æ€ä¹ˆè·å¾— SSL å®‰å…¨è¯ä¹¦å‘¢ï¼Ÿ</h3>
<blockquote>
<p>ç†è®ºä¸Šï¼Œæˆ‘ä»¬è‡ªå·±ä¹Ÿå¯ä»¥ç­¾å‘ SSL å®‰å…¨è¯ä¹¦ï¼Œä½†æ˜¯æˆ‘ä»¬è‡ªå·±ç­¾å‘çš„å®‰å…¨è¯ä¹¦ä¸ä¼šè¢«ä¸»æµçš„æµè§ˆå™¨ä¿¡ä»»ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¢«ä¿¡ä»»çš„è¯ä¹¦æˆæƒä¸­å¿ƒï¼ˆ CA ï¼‰ç­¾å‘çš„å®‰å…¨è¯ä¹¦ã€‚è€Œä¸€èˆ¬çš„ SSL å®‰å…¨è¯ä¹¦ç­¾å‘æœåŠ¡éƒ½æ¯”è¾ƒè´µï¼Œæ¯”å¦‚ Godaddy ã€ GlobalSign ç­‰æœºæ„ç­¾å‘çš„è¯ä¹¦ä¸€èˆ¬éƒ½éœ€è¦20ç¾é‡‘ä¸€å¹´ç”šè‡³æ›´è´µï¼Œä¸è¿‡ä¸ºäº†åŠ å¿«æ¨å¹¿ HTTPS çš„æ™®åŠï¼Œ EEF ç”µå­å‰å“¨åŸºé‡‘ä¼šã€ Mozilla åŸºé‡‘ä¼šå’Œç¾å›½å¯†æ­‡æ ¹å¤§å­¦æˆç«‹äº†ä¸€ä¸ªå…¬ç›Šç»„ç»‡å« ISRG ï¼ˆ Internet Security Research Group ï¼‰ï¼Œè¿™ä¸ªç»„ç»‡ä» 2015 å¹´å¼€å§‹æ¨å‡ºäº† Letâ€™s Encrypt å…è´¹è¯ä¹¦ã€‚è¿™ä¸ªå…è´¹è¯ä¹¦ä¸ä»…å…è´¹ï¼Œè€Œä¸”è¿˜ç›¸å½“å¥½ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ Letâ€™s Encrypt æä¾›çš„å…è´¹è¯ä¹¦éƒ¨ç½² HTTPS äº†ã€‚</p>
</blockquote>
<h3 id="lets-encrypt-ç®€ä»‹">Letâ€™s Encrypt ç®€ä»‹</h3>
<blockquote>
<p>å‰é¢å·²ç»ä»‹ç»è¿‡ï¼Œ Letâ€™s Encrypt æ˜¯ ä¸€ä¸ªå« ISRG ï¼ˆ Internet Security Research Group ï¼Œäº’è”ç½‘å®‰å…¨ç ”ç©¶å°ç»„ï¼‰çš„ç»„ç»‡æ¨å‡ºçš„å…è´¹å®‰å…¨è¯ä¹¦è®¡åˆ’ã€‚å‚ä¸è¿™ä¸ªè®¡åˆ’çš„ç»„ç»‡å’Œå…¬å¸å¯ä»¥è¯´æ˜¯äº’è”ç½‘é¡¶é¡¶é‡è¦çš„å…ˆé©±ï¼Œé™¤äº†å‰æ–‡æåˆ°çš„ä¸‰ä¸ªç‰›æ°”å“„å“„çš„å‘èµ·å•ä½å¤–ï¼Œåæ¥åˆæœ‰æ€ç§‘ï¼ˆå…¨çƒç½‘ç»œè®¾å¤‡åˆ¶é€ å•†æ‰§ç‰›è€³è€…ï¼‰ã€ Akamai åŠ å…¥ï¼Œç”šè‡³è¿ Linux åŸºé‡‘ä¼šä¹ŸåŠ å…¥äº†åˆä½œï¼Œè¿™äº›å¤§ç‰Œç»„ç»‡çš„åŠ å…¥ä¿è¯äº†è¿™ä¸ªé¡¹ç›®çš„å¯ä¿¡åº¦å’Œå¯æŒç»­æ€§ã€‚</p>
</blockquote>
<h3 id="certbot-ç®€ä»‹">Certbot ç®€ä»‹</h3>
<blockquote>
<p>ISRG çš„å‘èµ·è€… EFF ï¼ˆç”µå­å‰å“¨åŸºé‡‘ä¼šï¼‰ä¸º Letâ€™s Encrypt é¡¹ç›®å‘å¸ƒäº†ä¸€ä¸ªå®˜æ–¹çš„å®¢æˆ·ç«¯ Certbot ï¼Œåˆ©ç”¨å®ƒå¯ä»¥å®Œå…¨è‡ªåŠ¨åŒ–çš„è·å–ã€éƒ¨ç½²å’Œæ›´æ–°å®‰å…¨è¯ä¹¦ã€‚è™½ç„¶ç¬¬ä¸‰æ–¹å·¥å…·ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å®˜æ–¹å·¥å…·æ›´æƒå¨ï¼Œé£é™©ä¹Ÿæ›´å°ï¼Œè€Œä¸”é‡åˆ°é—®é¢˜ä¹Ÿæ›´å®¹æ˜“è§£å†³ï¼Œæ¯•ç«Ÿæœ‰å®˜æ–¹çš„æ”¯æŒã€‚</p>
</blockquote>
<h1 id="å®é™…æ“ä½œ">å®é™…æ“ä½œ</h1>
<h3 id="certbot-ä½¿ç”¨æ–¹æ³•">Certbot ä½¿ç”¨æ–¹æ³•</h3>
<p>Certbot çš„å®˜ç½‘æ˜¯<a href="https://certbot.eff.org/">https://certbot.eff.org/</a>, æˆ‘ä»¬æ‰“å¼€è¿™ä¸ªé“¾æ¥ï¼Œé€‰æ‹©è‡ªå·±ä½¿ç”¨çš„ web server å’Œæ“ä½œç³»ç»Ÿã€‚é€‰æ‹©å®Œä¹‹åï¼Œå®˜ç½‘å°±ä¼šæ˜¾ç¤ºå‡ºå¯¹åº”çš„å®‰è£…æ“ä½œæ­¥éª¤ã€‚
ä»¥ç›®å‰æˆ‘æ‰€ä½¿ç”¨çš„æœåŠ¡å™¨ä¸ºä¾‹ï¼Œweb server ä½¿ç”¨Nginx(1.12)ï¼Œæ“ä½œç³»ç»Ÿæ˜¯CentOS(7.3)ã€‚å› ä¸º Certbot æ‰“åŒ…åœ¨EPELä¸­ï¼Œæ‰€ä»¥åœ¨å®‰è£… Certbot ä¹‹å‰è¦å…ˆå®‰è£…EPEL</p>
<pre><code class="language-shell">yum -y install epel-release
</code></pre>
<p>ç„¶åæŒ‰ç€å®˜ç½‘ç»™å‡ºçš„æ­¥éª¤æç¤ºå‘½ä»¤å®‰è£… Certbot</p>
<pre><code class="language-shell">yum install python2-certbot-nginx
</code></pre>
<p>å®‰è£…å®Œæ¯•åï¼Œç»§ç»­è¾“å…¥å®˜ç½‘æç¤ºå‘½ä»¤</p>
<pre><code class="language-shell">certbot --nginx
</code></pre>
<p>è¿è¡Œæ­¤å‘½ä»¤ä¼šè‡ªåŠ¨è·å–è¯ä¹¦ï¼Œå¹¶ä¸” Certbot ä¼šè‡ªåŠ¨ç¼–è¾‘Nginxé…ç½®æ–‡ä»¶é…ç½®HTTPSæœåŠ¡ã€‚</p>
<blockquote>
<p>è¿™è¾¹åœ¨è¿è¡Œé…ç½®å‘½ä»¤æ—¶é‡åˆ°ä¸€ä¸ªå‘</p>
</blockquote>
<pre><code class="language-shell">ImportError: No module named 'requests.packages.urllib3'
</code></pre>
<p>å¯ä»¥çœ‹å‡ºæ˜¯ç¼ºå°‘ä¸€ä¸ªæ¨¡å—åŒ…ï¼Œçœ‹é…ç½®å‘½ä»¤åœ¨å‘½ä»¤å°çš„è¾“å‡ºï¼ŒCertbot æ˜¯ç”¨ python æ¥å†™ Nginx é…ç½®ã€‚æ—¢ç„¶æ˜¯ç”¨çš„ pythonï¼Œå¯ä»¥é€šè¿‡ <strong>pip list</strong> å‘½ä»¤æŸ¥çœ‹ python çš„ä¾èµ–åŒ…åˆ—è¡¨ã€‚ä½†æ˜¯æŸ¥çœ‹æ˜¯å·²ç»å­˜åœ¨çš„ï¼Œè¿™ä¸ªé—®é¢˜å¾ˆå¿«é€šè¿‡ Certbot åœ¨ github ä¸Šçš„ä¸€ä¸ª Issues æ‰¾åˆ°äº†ç­”æ¡ˆï¼ˆ<a href="https://github.com/certbot/certbot/issues/5104">Issuesé“¾æ¥</a>ï¼‰ã€‚ç›®å‰çœ‹æ˜¯åŒ…çš„ç‰ˆæœ¬ä¾èµ–æœ‰é—®é¢˜ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œä¾èµ–åŒ…çš„é‡è£…</p>
<pre><code class="language-shell">pip uninstall requests
pip uninstall urllib3
yum remove python-urllib3
yum remove python-requests
yum install python-urllib3
yum install python-requests
yum install certbot
</code></pre>
<p>å†æ¬¡æ‰§è¡Œ <strong>certbot --nginx</strong> å‘½ä»¤æˆåŠŸã€‚å‘½ä»¤æ‰§è¡Œåé¦–å…ˆä¼šæç¤ºè¾“å…¥ä¸€ä¸ªé‚®ç®±åœ°å€ï¼Œä¸»è¦ä½œç”¨æ˜¯è®¢é˜…ä¸€äº›é€šçŸ¥ï¼Œè¾“å…¥åå›è½¦ã€‚</p>
<pre><code class="language-shell">[root@izuf6fco0zwyipdq9485s2z ~]# certbot --nginx
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Plugins selected: Authenticator nginx, Installer nginx

â–½
Enter email address (used for urgent renewal and security notices) (Enter 'c' to
cancel): demo@mail.com // æ¼”ç¤ºé‚®ç®±
Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
</code></pre>
<p>å›è½¦å Certbot å°±ä¼šè‡ªåŠ¨è¯·æ±‚ä¸‹è½½ Let's Encrypt è¯ä¹¦ï¼Œå¹¶è®¾ç½® Nginx é…ç½®æ–‡ä»¶ã€‚æœŸé—´ä¼šæœ‰ä¸€äº›åŒæ„ç›¸å…³åè®®å’Œé€‰æ‹©å“ªä¸ªç½‘ç«™é…ç½®çš„äº¤äº’ï¼Œè¿™ä¸ªçœ‹è¾“å‡ºæ–‡å­—å°±èƒ½æ˜ç™½æ„æ€ã€‚</p>
<pre><code class="language-shell">...
â–½
server {
(A)gree/(C)ancel: a

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Would you be willing to share your email address with the Electronic Frontier
Foundation, a founding partner of the Let's Encrypt project and the non-profit
organization that develops Certbot? We'd like to send you email about our work
encrypting the web, EFF news, campaigns, and ways to support digital freedom.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Y)es/(N)o: y
Starting new HTTPS connection (1): supporters.eff.org

Which names would you like to activate HTTPS for?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: kisstime.top
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate numbers separated by commas and/or spaces, or leave input
blank to select all options shown (Enter 'c' to cancel): 1
Obtaining a new certificate
Performing the following challenges:
http-01 challenge for kisstime.top
Cleaning up challenges
...
</code></pre>
<blockquote>
<p>ä½†æ˜¯è¿™è¾¹åˆ° Certbot è®¾ç½® Nginx é…ç½®æ–‡ä»¶çš„æ—¶å€™é‡åˆ°ä¸€ä¸ªå‘ï¼ŒæŠ¥å¦‚ä¸‹ä¸€ä¸ªé”™è¯¯</p>
</blockquote>
<pre><code class="language-shell">An unexpected error occurred:
UnicodeDecodeError: 'ascii' codec can't decode byte 0xe5 in position 2: ordinal not in range(128)
Please see the logfiles in /var/log/letsencrypt for more details.
</code></pre>
<p>ç†Ÿæ‚‰ python çš„åŒå­¦åº”è¯¥å¯¹è¿™ä¸ªé”™è¯¯æ¯”è¾ƒäº†è§£ã€‚ä¸è¿‡åšä¸» python è¿˜æ˜¯ç”¨çš„æ¯”è¾ƒå°‘ï¼ŒèŠ±äº†ç‚¹æ—¶é—´äº†è§£äº†ä¸€ä¸‹ã€‚</p>
<blockquote>
<p>åœ¨è§£å†³é”™è¯¯ä¹‹å‰ï¼Œé¦–å…ˆè¦äº†è§£unicodeå’Œutf-8çš„åŒºåˆ«ã€‚unicodeæŒ‡çš„æ˜¯ä¸‡å›½ç ï¼Œæ˜¯ä¸€ç§â€œå­—ç è¡¨â€ã€‚è€Œutf-8æ˜¯è¿™ç§å­—ç è¡¨å‚¨å­˜çš„ç¼–ç æ–¹æ³•ã€‚unicodeä¸ä¸€å®šè¦ç”±utf-8è¿™ç§æ–¹å¼ç¼–æˆbytecodeå‚¨å­˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨utf-16,utf-7ç­‰å…¶ä»–æ–¹å¼ã€‚ç›®å‰å¤§å¤šéƒ½ä»¥utf-8çš„æ–¹å¼æ¥å˜æˆbytecodeã€‚å…¶æ¬¡ï¼ŒPythonä¸­å­—ç¬¦ä¸²ç±»å‹åˆ†ä¸ºbyte string å’Œ unicode stringä¸¤ç§ã€‚å¦‚æœåœ¨pythonæ–‡ä»¶ä¸­æŒ‡å®šç¼–ç æ–¹å¼ä¸ºutf-8(#coding=utf-8)ï¼Œé‚£ä¹ˆæ‰€æœ‰å¸¦ä¸­æ–‡çš„å­—ç¬¦ä¸²éƒ½ä¼šè¢«è®¤ä¸ºæ˜¯utf-8ç¼–ç çš„byte stringï¼ˆä¾‹å¦‚ï¼šmystr=&quot;ä½ å¥½&quot;ï¼‰ï¼Œä½†æ˜¯åœ¨å‡½æ•°ä¸­æ‰€äº§ç”Ÿçš„å­—ç¬¦ä¸²åˆ™è¢«è®¤ä¸ºæ˜¯unicode stringã€‚é—®é¢˜å°±å‡ºåœ¨è¿™è¾¹ï¼Œunicode string å’Œ byte string æ˜¯ä¸å¯ä»¥æ··åˆä½¿ç”¨çš„ï¼Œä¸€æ—¦æ··åˆä½¿ç”¨äº†ï¼Œå°±ä¼šäº§ç”Ÿè¿™æ ·çš„é”™è¯¯ã€‚ä¾‹å¦‚ï¼š</p>
</blockquote>
<pre><code class="language-python">self.response.out.write(&quot;ä½ å¥½&quot;+self.request.get(&quot;argu&quot;))
</code></pre>
<blockquote>
<p>å…¶ä¸­ï¼Œ&quot;ä½ å¥½&quot;è¢«è®¤ä¸ºæ˜¯byte stringï¼Œè€Œself.request.get(&quot;argu&quot;)çš„è¿”å›å€¼è¢«è®¤ä¸ºæ˜¯unicode stringã€‚ç”±äºé¢„è®¾çš„è§£ç å™¨æ˜¯asciiï¼Œæ‰€ä»¥å°±ä¸èƒ½è¯†åˆ«ä¸­æ–‡byte stringã€‚ç„¶åå°±æŠ¥é”™äº†ã€‚</p>
</blockquote>
<p>é‚£ç†è§£äº†è¿™ä¸ªé”™è¯¯åŸå› åï¼Œæˆ‘è¿™è¾¹é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ç½‘ç«™çš„ Nginx é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å«æœ‰ä¸­æ–‡ã€‚æ‰“å¼€ä¸€çœ‹ï¼Œç¡®å®å­˜åœ¨ä¸­æ–‡æ³¨é‡Šã€‚å°†æ³¨é‡Šå»æ‰ï¼Œé‡æ–°æ‰§è¡Œå‘½ä»¤æˆåŠŸä¸åœ¨æŠ¥é”™</p>
<p>æ¥ç€å‘½ä»¤äº¤äº’ä¼šæç¤ºæ˜¯å¦å°†æ‰€æœ‰HTTPé‡å®šå‘åˆ°HTTPSï¼Œæˆ‘è¿™è¾¹é€‰æ‹©å…¨éƒ¨é‡å®šå‘ä¹Ÿå°±æ˜¯ã€Œ2ã€ã€‚</p>
<pre><code class="language-shell">Cleaning up challenges
Deploying Certificate to VirtualHost:  //è¿™è¾¹ä¼šæ˜¾ç¤ºä½ çš„ç½‘ç«™é…ç½®æ–‡ä»¶ç›®å½•

Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: No redirect - Make no further changes to the webserver configuration.
2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for
new sites, or if you're confident your site works on HTTPS. You can undo this
change by editing your web server's configuration.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 2
Redirecting all traffic on port 80 to ssl in //è¿™è¾¹ä¼šæ˜¾ç¤ºä½ çš„ç½‘ç«™é…ç½®æ–‡ä»¶ç›®å½•

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Congratulations! You have successfully enabled https://kisstime.top

You should test your configuration at:
https://www.ssllabs.com/ssltest/analyze.html?d=kisstime.top
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   .../fullchain.pem
   Your key file has been saved at:
   .../privkey.pem
   Your cert will expire on 2019-02-14. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot again
   with the &quot;certonly&quot; option. To non-interactively renew *all* of
   your certificates, run &quot;certbot renew&quot;
 - If you like Certbot, please consider supporting our work by:

   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
   Donating to EFF:                    https://eff.org/donate-le
</code></pre>
<p>OKï¼Œå½“å®Œæˆä¸Šé¢æœ€åä¸€æ­¥åï¼Œè¾“å…¥å¦‚ä¸Šä¿¡æ¯åå°±è¡¨æ˜ HTTPS é…ç½®æˆåŠŸäº†ï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡æç¤ºä¸­çš„ <a href="www.ssllabs.com">SSL Server Test</a> ç½‘å€æ¥æµ‹è¯•ç½‘ç«™æ˜¯å¦èƒ½å¤Ÿ HTTPS æ¥è¿›è¡Œè®¿é—®</p>
<pre><code class="language-shell">You should test your configuration at:
https://www.ssllabs.com/ssltest/analyze.html?d=kisstime.top
</code></pre>
<p>äº‹å®è¯æ˜ï¼Œé«˜å…´çš„å¤ªæ—©äº†ã€‚ã€‚ã€‚é€šè¿‡æµ‹è¯•ç½‘ç«™å’Œç›´æ¥è®¿é—®åŸŸåå‘ç°ç½‘ç«™éƒ½æ˜¯è®¿é—®ä¸äº†ã€‚æ€è€ƒäº†ä¸€ä¸‹ï¼Œç¡®è®¤ä¸‹æœåŠ¡å™¨çš„443ç«¯å£æ˜¯å¦å¼€å¯ï¼Œæˆ‘è¿™è¾¹ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ï¼Œç™»å½•æ§åˆ¶å°æŸ¥çœ‹å®‰å…¨ç»„è§„åˆ™ï¼Œå‘ç°ç¡®å®æ˜¯443ç«¯å£æ²¡æœ‰å¼€å¯ï¼Œé…ç½®å¼€å¯åï¼Œé‡æ–°è®¿é—®æˆåŠŸã€‚</p>
<h1 id="å…¶ä»–">å…¶ä»–</h1>
<h3 id="nginxçš„è®¾ç½®è¯´æ˜">Nginxçš„è®¾ç½®è¯´æ˜</h3>
<p>åŸºæœ¬ä¸Š Certbot ä¼šåœ¨å¯¹åº”çš„ Nginx é…ç½®æ–‡ä»¶åŠ ä¸Šä¸‹é¢çš„å‚æ•°ï¼š</p>
<pre><code class="language-nginx">server {
    # ... other configs
    
    # SSL è®¾ç½®
    listen 443 ssl;

    # set crt and key
    ssl_certificate .../fullchain.pem;
    ssl_certificate_key .../privkey.pem;
    
    # include åŸºæœ¬çš„ ssl è®¾ç½®
    include .../options-ssl-nginx.conf;
    
    # Certbot ä¹Ÿä¼šç”Ÿæˆä¸€æŠŠ Diffie-Hellman å¯†é’¥
    ssl_dhparam .../ssl-dhparams.pem;

    # ... other configs
}
</code></pre>
<h3 id="è‡ªåŠ¨æ›´æ–°è¯ä¹¦">è‡ªåŠ¨æ›´æ–°è¯ä¹¦</h3>
<p>Letâ€™s Encrypt å…è´¹SSLè¯ä¹¦ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä½†æ¯æ¬¡ç”³è¯·åªæœ‰ä¸‰ä¸ªæœˆæœ‰æ•ˆæœŸï¼Œåœ¨æ¯æ¬¡åˆ°æœŸä¹‹å‰éƒ½éœ€è¦é‡æ–°ç”³è¯·ï¼ŒCertbot å·²ç»æä¾›äº†ä¸€é”®ç»­è®¢çš„å‘½ä»¤</p>
<pre><code class="language-shell">certbot renew
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ æ­¤æ¡å‘½ä»¤çš„cronä½œä¸šï¼ˆæˆ–systemdè®¡æ—¶å™¨ï¼‰æ¥å®‰æ’è¯ä¹¦çš„è‡ªåŠ¨ç»­è®¢</p>
<pre><code class="language-shell">SHELL=/bin/bash
PATH=/sbin:/bin:/usr/sbin:/usr/bin

0 0,12 * * * certbot renew --quiet 
</code></pre>
<h3 id="certbot-çš„-log-è·¯å¾„">Certbot çš„ log è·¯å¾„</h3>
<p>Certbot çš„ log é¢„è®¾è·¯å¾„åœ¨ <strong>/var/log/letsencrypt</strong>ï¼Œæœ‰éœ€è¦å¯ä»¥å»ç¡®è®¤æŸ¥çœ‹ã€‚</p>
<h3 id="ç›¸å…³ç¬¬ä¸‰æ–¹">ç›¸å…³ç¬¬ä¸‰æ–¹</h3>
<p><a href="https://github.com/certbot/certbot/blob/master/certbot-auto">certbot-auto</a>æ˜¯å¯¹è„šæœ¬certbotçš„å°è£…ï¼Œå¯ä»¥è®¾ç½®ç³»ç»Ÿç¯å¢ƒæˆ–è‡ªåŠ¨å‡çº§ã€‚</p>
<h1 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h1>
<p>ç‰›é¡¿æ›¾ç»è¯´è¿‡ï¼šå¦‚æœè¯´æˆ‘çœ‹å¾—æ¯”åˆ«äººæ›´è¿œäº›ï¼Œé‚£æ˜¯å› ä¸ºæˆ‘ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šã€‚ï¼ˆIf I have seen further, it is by standing on the shoulders of giants.ï¼‰æ„Ÿè°¢ã€‚</p>
<ul>
<li><a href="https://certbot.eff.org/">https://certbot.eff.org/</a></li>
<li><a href="https://linuxstory.org/deploy-lets-encrypt-ssl-certificate-with-certbot">https://linuxstory.org/deploy-lets-encrypt-ssl-certificate-with-certbot</a></li>
<li><a href="https://blog.csdn.net/use_my_heart/article/details/51303317">https://blog.csdn.net/use_my_heart/article/details/51303317</a></li>
<li><a href="https://blog.hellojcc.tw/2018/05/02/setup-https-with-letsencrypt-on-nginx/">https://blog.hellojcc.tw/2018/05/02/setup-https-with-letsencrypt-on-nginx/</a></li>
</ul>
<h1 id="åšå®¢åŸæ–‡é“¾æ¥">åšå®¢åŸæ–‡é“¾æ¥</h1>
<p><a href="https://kisstime.top/?p=123">:point_right:ç‚¹å‡»é“¾æ¥</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Macä¸‹iTerm2 SSH å…å¯†ç™»é™†é˜¿é‡Œäº‘]]></title>
        <id>https://zhangajian.com/post/mac-xia-iterm2-ssh-mian-mi-deng-lu-a-li-yun</id>
        <link href="https://zhangajian.com/post/mac-xia-iterm2-ssh-mian-mi-deng-lu-a-li-yun">
        </link>
        <updated>2018-11-09T07:53:28.000Z</updated>
        <content type="html"><![CDATA[<h1 id="æœåŠ¡å™¨é…ç½®">æœåŠ¡å™¨é…ç½®</h1>
<p>1 ç™»å½•åˆ°æœåŠ¡å™¨ä¿®æ”¹sshdçš„é…ç½®æ–‡ä»¶</p>
<blockquote>
<p>vim  /etc/ssh/sshd_config</p>
</blockquote>
<p>æ‰¾åˆ°ä»¥ä¸‹å†…å®¹ï¼Œå»æ‰å‰é¢çš„æ³¨é‡Šï¼ˆ#ï¼‰</p>
<pre><code class="language-shell">RSAAuthentication yes 
PubkeyAuthentication yes 
AuthorizedKeysFile .ssh/authorized_keys
</code></pre>
<p>é‡å¯sshdæœåŠ¡</p>
<blockquote>
<p>service sshd restart</p>
</blockquote>
<h1 id="æœ¬æœºé…ç½®">æœ¬æœºé…ç½®</h1>
<p>1 æœ¬æœºç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼ˆå·²ç”Ÿæˆè·³è¿‡ï¼‰</p>
<blockquote>
<p>ssh-keygen -t rsa</p>
</blockquote>
<p>ä¸€è·¯å›è½¦å³å¯ã€‚é»˜è®¤åœ¨ ~/.sshç›®å½•ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶</p>
<pre><code class="language-shell">id_rsa ï¼šç§é’¥ 
id_rsa.pub ï¼šå…¬é’¥
</code></pre>
<p>2 å°†æœ¬åœ°å…¬é’¥å¯¼å…¥åˆ°æœåŠ¡å™¨è®¤è¯æ–‡ä»¶ä¸­</p>
<blockquote>
<p>ssh-copy-id -i ~/.ssh/id_rsa.pub root@ä½ çš„å…¬ç½‘IP</p>
</blockquote>
<p>3 ä¿®æ”¹ mac ä¸‹çš„é…ç½®æ–‡ä»¶ ~/.ssh/config ï¼ˆæ²¡æœ‰åˆ™åˆ›å»ºï¼‰</p>
<pre><code class="language-shell">Host aliyun  ### åˆ«å
Hostname 192.168.10.10  ###å…¬ç½‘ IP
Port 22  ###ç«¯å£
User root  ###ç™»å½•è´¦å·
IdentityFile ~/.ssh/id_rsa ###æœ¬æœºç§é’¥åœ°å€
</code></pre>
<p>4 ä½¿ç”¨sshè¿æ¥</p>
<blockquote>
<p>ssh aliyun</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åœ¨é˜¿é‡Œäº‘ä¸Šéƒ¨ç½²WordPress]]></title>
        <id>https://zhangajian.com/post/zai-a-li-yun-shang-bu-shu-wordpress</id>
        <link href="https://zhangajian.com/post/zai-a-li-yun-shang-bu-shu-wordpress">
        </link>
        <updated>2018-10-18T07:54:22.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ€è¿‘åˆšå¥½å› ä¸ºæ´»åŠ¨ä¹°äº†ä¸€å°æ–°çš„æœåŠ¡å™¨ï¼Œç©ºç€ä¹Ÿç©ºç€ï¼Œåˆšå¥½å¯ä»¥ç”¨æ¥æ­åšå®¢ä½¿ç”¨ï¼Œæ­å»ºåšå®¢è¿™ä»¶äº‹ã€‚ä¹‹å‰ä¹Ÿåšè¿‡å¾ˆå¤šæ¬¡ï¼Œä¸ç®¡æ˜¯ç”¨é™æ€åšå®¢ç”Ÿæˆå™¨ï¼Œè¿˜æ˜¯æ‰‹å†™ä¸€ä¸ªåšå®¢é¡¹ç›®ã€‚éƒ½å°è¯•è¿‡ï¼Œæ€æ¥æƒ³å»ï¼Œè¿™æ¬¡æ‰“ç®—ç”¨ç”¨WordPressï¼Œå¬é—»è®¸ä¹…ï¼Œä¹Ÿè¯¥ç”¨ç”¨çœ‹äº†ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ€è¿‘åˆšå¥½å› ä¸ºæ´»åŠ¨ä¹°äº†ä¸€å°æ–°çš„æœåŠ¡å™¨ï¼Œç©ºç€ä¹Ÿç©ºç€ï¼Œåˆšå¥½å¯ä»¥ç”¨æ¥æ­åšå®¢ä½¿ç”¨ï¼Œæ­å»ºåšå®¢è¿™ä»¶äº‹ã€‚ä¹‹å‰ä¹Ÿåšè¿‡å¾ˆå¤šæ¬¡ï¼Œä¸ç®¡æ˜¯ç”¨é™æ€åšå®¢ç”Ÿæˆå™¨ï¼Œè¿˜æ˜¯æ‰‹å†™ä¸€ä¸ªåšå®¢é¡¹ç›®ã€‚éƒ½å°è¯•è¿‡ï¼Œæ€æ¥æƒ³å»ï¼Œè¿™æ¬¡æ‰“ç®—ç”¨ç”¨WordPressï¼Œå¬é—»è®¸ä¹…ï¼Œä¹Ÿè¯¥ç”¨ç”¨çœ‹äº†ã€‚</p>
<!-- more -->
<h1 id="å®‰è£…nginx">å®‰è£…Nginx</h1>
<pre><code class="language-shell">yum -y install nginx
</code></pre>
<h1 id="å®‰è£…mysql57">å®‰è£…Mysql5.7</h1>
<ul>
<li>å®‰è£… mysql å®˜æ–¹ yum æº</li>
</ul>
<pre><code class="language-shell">rpm -ivh https://dev.mysql.com/get/mysql80-community-release-el7-1.noarch.rpm
</code></pre>
<ul>
<li>æŸ¥çœ‹ MySQL yum æº</li>
</ul>
<pre><code class="language-shell">yum list | grep mysql
</code></pre>
<p>å‘ç°åªæœ‰ mysql80 çš„åŒ…ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰å¼€å¯ mysql57 çš„åŒ…ï¼Œå…³é—­80åŒ…ï¼Œå¼€å¯57åŒ…ã€‚</p>
<pre><code class="language-shell">yum-config-manager --disable mysql80-community
yum-config-manager --enable mysql57-community
</code></pre>
<p>æŠ¥é”™</p>
<pre><code class="language-shell">-bash: yum-config-manager: æœªæ‰¾åˆ°å‘½ä»¤
</code></pre>
<p>è¿™ä¸ªæ˜¯å› ä¸ºç³»ç»Ÿé»˜è®¤æ²¡æœ‰å®‰è£…è¿™ä¸ªå‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤åœ¨yum-utils åŒ…é‡Œï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤yum -y install yum-utils å®‰è£…å°±å¯ä»¥äº†ã€‚</p>
<ul>
<li>å®‰è£… yum-utils åŒ…</li>
</ul>
<pre><code class="language-shell">yum -y install yum-utils
</code></pre>
<ul>
<li>
<p>å†æ¬¡æŸ¥çœ‹MysqlåŒ…åˆ—è¡¨å‡ºç°57å®‰è£…åŒ…</p>
</li>
<li>
<p>å®‰è£… Mysql57</p>
</li>
</ul>
<pre><code class="language-shell">yum -y install mysql-community-server
</code></pre>
<ul>
<li>å¯åŠ¨ Mysql57æœåŠ¡</li>
</ul>
<pre><code class="language-shell">systemctl start mysqld
</code></pre>
<ul>
<li>æŸ¥çœ‹åˆå§‹å¯†ç </li>
</ul>
<pre><code class="language-shell">grep 'temporary password' /var/log/mysqld.log
</code></pre>
<ul>
<li>ç™»å½• Mysqlï¼Œä¿®æ”¹å¯†ç </li>
</ul>
<pre><code class="language-shell">mysql -uroot -p

set password for root@localhost = password('ä½ çš„å¯†ç ');
</code></pre>
<p>å¦‚æœæç¤ºé”™è¯¯ï¼Œé‚£æ˜¯å› ä¸º mysql57 å¯¹å¯†ç çš„å¤æ‚åº¦è¿›è¡Œäº†é™åˆ¶ï¼Œä¾æ¬¡æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œå–æ¶ˆå¤æ‚åº¦é™åˆ¶ï¼Œå†ä¿®æ”¹</p>
<pre><code class="language-shell">set global validate_password_policy=0;
set global validate_password_mixed_case_count=0;
set global validate_password_number_count=3;
set global validate_password_special_char_count=0;
set global validate_password_length=3;
</code></pre>
<p>æç¤ºé”™è¯¯</p>
<pre><code class="language-shell">[root@izuf6fco0zwyipdq9485s2z ~]# mysql -uroot -p
Enter password:
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)
</code></pre>
<ul>
<li>å¦‚ä¸‹æ“ä½œä¿®å¤</li>
</ul>
<pre><code class="language-shell"># å…ˆå…³é—­æœåŠ¡
systemctl stop mysqld
# è·³è¿‡æƒé™éªŒè¯
mysqld --user=root --skip-grant-tables &amp;
# ç™»å½•
mysql -u root mysql
# è®¾ç½®å¯†ç 
UPDATE user SET authentication_string=PASSWORD('new password') where USER='root';
# åˆ·æ–°è®¾ç½®
FLUSH PRIVILEGES;
</code></pre>
<h1 id="å®‰è£…-php72">å®‰è£… PHP7.2</h1>
<p>php7.2 ç‰ˆæœ¬çš„ yum æºåœ¨ webtatic ä¸Šï¼Œä½†è¿˜æœ‰ä¸€éƒ¨åˆ†éœ€è¦ä¾èµ– epel-release ã€‚EPEL(Extra Packages for Enterprise Linux )ï¼Œæ˜¯åŸºäºFedoraçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä¸ºâ€œçº¢å¸½ç³»â€çš„æ“ä½œç³»ç»Ÿæä¾›é¢å¤–çš„è½¯ä»¶åŒ…ï¼Œé€‚ç”¨äºRHELã€CentOSå’ŒScientific Linuxã€‚</p>
<ul>
<li>å®‰è£… epel-release</li>
</ul>
<pre><code class="language-shell">yum -y install epel-release
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨ /etc/yum.repos.d ç›®å½•ä¸‹ï¼Œå°±ä¼šå¤šä¸€ä¸ª epel.repo çš„æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€ä¸ª testing çš„æµ‹è¯•æ–‡ä»¶ã€‚å½“ç³»ç»Ÿé€šè¿‡ yum è¿›è¡Œå®‰è£…è½¯ä»¶æ—¶ï¼Œå¦‚æœéœ€è¦ epel é‡Œçš„æ‰©å±•åŒ…ï¼Œå°±ä¼šè‡ªåŠ¨ä¸‹è½½å®‰è£…ã€‚</p>
<ul>
<li>å®‰è£… webtatic yum æº</li>
</ul>
<pre><code class="language-shell">rpm -ivh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨ /etc/yum.repos.d ç›®å½•ä¸‹ä¼šå¤šå‡º webtatic.repo å’Œ webtatic-archive.repo ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€ä¸ª testing çš„æµ‹è¯•æ–‡ä»¶ã€‚</p>
<ul>
<li>æŸ¥çœ‹ php å¯ä»¥å®‰è£…çš„åŒ…</li>
</ul>
<pre><code class="language-shell"> yum list | grep php72
</code></pre>
<p>ä¸Šé¢è¿™äº› rpm åŒ…å°±æ˜¯ webtatic çš„ yum æºé‡Œé¢çš„åŒ…å•¦ã€‚æˆ‘ä»¬è¦å®‰è£…çš„å°±æ˜¯ php72 çš„æ ¸å¿ƒåŒ… mod_php72w å’Œæ ¸å¿ƒæ‰©å±•åŒ… php72w-cli ã€php72w-fpmã€php72w-commonã€php72w-develã€‚å…¶å®ƒæ‰©å±•é€‰é¡¹åŒ…è¯·æ ¹æ®éœ€è¦å®‰è£…ï¼Œä¾‹å¦‚éœ€è¦ php72w-gd åæœŸå¯å•ç‹¬å®‰è£…ã€‚</p>
<ul>
<li>å®‰è£…php72</li>
</ul>
<pre><code class="language-shell">yum -y install mod_php72w php72w-cli php72w-fpm php72w-common php72w-devel
</code></pre>
<p>é€šè¿‡è¿™ç§æ–¹å¼å®‰è£…çš„ php72 çš„ php.ini æ–‡ä»¶ä¸æˆ‘ä»¬è®¤è¯†çš„ä¸å¤ªä¸€æ ·ï¼Œå®ƒç±»ä¼¼äº nginx.conf å­˜åœ¨ä¸€ä¸ªä¸»é…ç½®ï¼Œé€šè¿‡ç±»å‹ include æ–¹æ³•ï¼ŒåŒ…å«æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ¨¡å—é…ç½®æ–‡ä»¶ã€‚</p>
<ul>
<li>å¯åŠ¨php-fpm</li>
</ul>
<pre><code class="language-shell">systemctl start php-fpm
</code></pre>
<h1 id="å®‰è£…-wordpress">å®‰è£… WordPress</h1>
<ul>
<li>ä¸‹è½½wordpress</li>
</ul>
<pre><code class="language-shell">wget https://cn.wordpress.org/wordpress-4.9.4-zh_CN.tar.gz
</code></pre>
<ul>
<li>è§£å‹åˆ°/home/ç›®å½•ä¸‹</li>
</ul>
<pre><code class="language-shell">tar -zxvf wordpress-4.9.4-zh_CN.tar.gz -C /home/
</code></pre>
<ul>
<li>ç™»é™†mysqlå¹¶æ·»åŠ æ•°æ®åº“ï¼Œå‘½åä¸ºwordpress</li>
</ul>
<pre><code class="language-shell">mysql -uroot -p
create database wordpress;
show databases;
</code></pre>
<ul>
<li>å¤‡ä»½nginxçš„é…ç½®æ–‡ä»¶</li>
</ul>
<pre><code class="language-shell">cp /etc/nginx/conf.d/default.conf /etc/nginx/conf.d/default.conf.bak
</code></pre>
<ul>
<li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li>
</ul>
<pre><code class="language-shell">vim /etc/nginx/conf.d/default.conf
</code></pre>
<p>é‡å¯NginxæœåŠ¡æ—¶å€™æŠ¥é”™ï¼ŒæŸ¥çœ‹é”™è¯¯æ—¥å¿—</p>
<pre><code class="language-shell">vim /var/log/nginx/error.log
2018/11/14 17:15:23 [emerg] 14151#0: bind() to 0.0.0.0:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to [::]:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to 0.0.0.0:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to [::]:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to 0.0.0.0:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to [::]:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to 0.0.0.0:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to [::]:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to 0.0.0.0:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: bind() to [::]:80 failed (98: Address already in use)
2018/11/14 17:15:23 [emerg] 14151#0: still could not bind()
</code></pre>
<p>çœ‹é”™è¯¯ä¿¡æ¯æç¤º80ç«¯å£å·²ç»è¢«å ç”¨ï¼Œæ— æ³•é‡å¯NginxæœåŠ¡ï¼ŒæŸ¥çœ‹80ç«¯å£è¿›ç¨‹æ˜¯å“ªä¸€ä¸ªï¼Œå¹¶killæ‰åï¼Œé‡å¯æœåŠ¡æˆåŠŸ</p>
<pre><code class="language-shell">netstat -ntpl
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 127.0.0.1:9000          0.0.0.0:*               LISTEN      11333/php-fpm: mast
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      10363/nginx: master
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      15636/sshd
tcp6       0      0 :::3306                 :::*                    LISTEN      10604/mysqld
tcp6       0      0 :::80                   :::*                    LISTEN      10363/nginx: master
kill 10363
service nginx restart
</code></pre>
<ul>
<li>è®¿é—®åŸŸååæ˜¾ç¤ºWPçš„å®‰è£…ï¼Œæˆ‘ä»¬ç‚¹å‡»è¿›è¡Œå¡«å†™mysqlçš„ç”¨æˆ·åå’Œå¯†ç </li>
</ul>
<p>æ•°æ®ç”¨æˆ·åå’Œå¯†ç å¡«å†™åæŠ¥é”™</p>
<blockquote>
<p>æŠ±æ­‰ï¼Œæˆ‘ä¸èƒ½å†™å…¥wp-config.phpæ–‡ä»¶ ......</p>
</blockquote>
<p>æŸ¥çœ‹wordpressæ–‡ä»¶å¤¹ï¼Œå‘ç°æ˜¯æƒé™é—®é¢˜</p>
<pre><code class="language-shell">ll /home | grep wordpress
drwxr-xr-x 5 nobody 65534 4096 2æœˆ   8 2018 wordpress
</code></pre>
<ul>
<li>æŸ¥çœ‹ç”¨æˆ·ç»„</li>
</ul>
<pre><code class="language-shell">grep -E '^(user|group)' /etc/php-fpm.d/www.conf
user = apache
group = apache
</code></pre>
<ul>
<li>è®¾ç½®è®¿é—®æƒé™</li>
</ul>
<pre><code class="language-shell">chown -R apache:apache /home/wordpress
</code></pre>
<h1 id="å†æ¬¡è®¿é—®æˆåŠŸ">å†æ¬¡è®¿é—®æˆåŠŸï¼</h1>
<p>å‚å¼€é“¾æ¥ï¼š
https://laravel-china.org/articles/10803/this-weekend-theres-a-lot-of-pits-on-the-website-for-a-friend-to-do
https://blog.csdn.net/u011475134/article/details/80222098
https://laravel-china.org/articles/17377#296073</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¼æ¢¦]]></title>
        <id>https://zhangajian.com/post/fu-meng</id>
        <link href="https://zhangajian.com/post/fu-meng">
        </link>
        <updated>2018-09-10T07:55:27.000Z</updated>
        <content type="html"><![CDATA[<p>å‰é˜µå­æ„Ÿå†’äº†ï¼Œä¸ç®—ä¸¥é‡ã€‚æœŸé—´å»è¿‡è¶ŸåŒ»é™¢æ‰“é’ˆåƒè¯ã€‚</p>
<p>é‚£å¤©æ˜¯å‘¨äº”ï¼Œè¯·äº†ä¸€å¤©å‡ï¼Œä¸‹åˆå›å®¶ååƒå®Œè¯ã€‚å°±è§‰çš„ç‰¹åˆ«çš„å›°ï¼Œå¯èƒ½æ˜¯å‰å‡ å¤©å®åœ¨æ²¡æœ‰ç¡å¥½ï¼Œä¹Ÿå¯èƒ½æ˜¯è¯æ•ˆèµ·çš„ä½œç”¨ã€‚è¿™ä¸€è§‰ç¡äº†æœ‰ä¸ª9å°æ—¶ã€‚</p>
<p>è¿™ä¹‹é—´åšäº†ä¸€ä¸ªæ¢¦ï¼Œç®—æ˜¯å™©æ¢¦ã€‚ä½†æ²¡æœ‰çªç„¶çš„æƒŠé†’ï¼Œæµ‘èº«å†·æ±—ã€‚åªæ„Ÿè§‰ç¡äº†å¥½ä¹…å¥½ä¹…ï¼Œé†’åè§‰çš„æµ‘èº«æ— åŠ›ã€‚</p>
<p>ä½†è¿™ä¸ªæ¢¦å´è¹è¹æ²¥æ²¥ã€‚å®ƒæ˜¯ä¸€ä¸ªæ•…äº‹ï¼Œä¸çŸ¥é“æ˜¯ä»å‰å“ªé‡Œçœ‹çš„å°è¯´è¿˜æ˜¯å“ªéƒ¨ç”µå½±ä¸­ç•™ä¸‹çš„ç¢å¿µã€‚æ‰€ä»¥ï¼Œæˆ‘å†³å®šå°†å®ƒç¨åŠ æ”¹åŠ¨è®°å½•ä¸‹æ¥ï¼š</p>
<p>ä¸€ä¸ªå¥³å­©ï¼Œå¤–è¡£æ·±é»‘è‰²é’ˆç»‡è¡«ï¼Œé‡Œé¢ç©¿ç€ä¸€ä»¶ç™½è‰²è¡¬è¡«ï¼Œçº¢è‰²æ ¼å­ç™¾è¤¶è£™ï¼ŒæŸ”æŸ”å¼±å¼±çš„å°è±¡ã€‚åœ¨ä¸€å®¶å’–å•¡åº—ä¸­ï¼Œé çª—çš„ä½ç½®åç€ï¼Œåƒæ˜¯åœ¨å®Œæˆå­¦ä¸šã€‚</p>
<p>çªç„¶ç”µè¯å“äº†ï¼Œåº”è¯¥æ˜¯ä¸€ä½å¥½å‹çš„æ¥ç”µã€‚å¥³å­©è¯´ï¼šã€Œä¸çŸ¥é“å“¦ï¼ŒæŒºä¹…æ²¡è”ç³»äº†ï¼Œå¯èƒ½ä¸å–œæ¬¢æˆ‘äº†ã€‚æ‰“ç®—ç”¨è¿™ç§æ–¹å¼åˆ†æ‰‹å§ã€ã€‚</p>
<p>æ²¡ä¸€ä¼šå°±æŒ‚äº†ç”µè¯ï¼Œå¥³å­©çœ‹äº†ä¼šçª—å¤–ã€‚ç”¨åŠ›çš„å’³å—½äº†å‡ ä¸‹ï¼Œä»åŒ…é‡Œæ‹¿å‡ºäº†ä¸€ç“¶æ„Ÿå†’è¯ï¼Œçœ‹æ¥ä¹Ÿæ˜¯é‡æ„Ÿå†’ï¼Œå€’äº†ä¸¤é¢—è¯å‡ºæ¥ï¼Œèƒ¶å›ŠçŠ¶çš„ï¼Œç“¶å­ä¸Šåƒæ˜¯å†™ç€å¥³å­©çš„åå­—ã€‚æ‹¿èµ·æ¡Œå­ä¸Šçš„æ°´æ¯æœäº†ä¸‹å»ã€‚</p>
<p>ä¸ä¹…ï¼Œå¥³å­©èµ·èº«å‡†å¤‡ç¦»å¼€ï¼Œæ‹¿èµ·æ¡Œå­ä¸Šçš„ä¹¦ç±å’Œæ–‡ä»¶ã€‚å‡ºäº†å’–å•¡åº—ã€‚åƒæ˜¯å»å¾€å®¶çš„è·¯ä¸Šï¼Œè·¯ä¸Šçš„é£æ™¯ä¼¼æ›¾ç›¸è¯†ã€‚æœ‰ä¸€é¢—æ— èŠ±æœæ ‘æ”€å‡ºå›´å¢™ï¼Œæœå­çº¢çº¢éƒéƒï¼Œä¼¼è¡€ä¼¼è‚‰ã€‚</p>
<p>å¥³å­©åˆ°äº†ä½å¤„ï¼Œä¹ æƒ¯æ€§çš„æ‰“å¼€æ¥¼é“é—¨å£çš„ä¿¡ç®±ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ¥ä¿¡ã€‚ç¿»å¼€ä¿¡ç®±ç›–å­ï¼Œé‡Œé¢ä¸€å°ç™½è‰²ä¿¡å°é™é™çš„èººåœ¨é»‘è‰²çš„ä¿¡ç›’ä¸­ã€‚å¥³å­©é‚¹äº†ä¸‹çœ‰å¤´ï¼Œåƒæ˜¯ç–‘é—®ã€‚æ‹¿èµ·ä¿¡å°ç¿»çœ‹äº†ä¸€ä¸‹ï¼Œä¸¤é¢éƒ½æ˜¯ç©ºç™½ä¸€ç‰‡ï¼Œæ²¡æœ‰ç½²åï¼Œæ²¡æœ‰åœ°å€ï¼Œæ²¡æœ‰é‚®ç¼–ï¼Œæ˜¯ä¸€å°åŒ¿åä¿¡ã€‚</p>
<p>å¥³å­©æ’•å¼€ä¿¡å°ï¼Œé‡Œé¢åªæœ‰ä¸€å¼ ç…§ç‰‡ã€‚æ‹¿èµ·ä¸€çœ‹ï¼Œé¡¿æ—¶è¢«å“äº†ä¸€è·³ï¼Œç…§ç‰‡ä¹Ÿè¢«æŠ–åˆ°äº†åœ°ä¸Šã€‚åœ°é¢ä¸Šçš„ç…§ç‰‡ä¸­æ˜¯ä¸€ä¸ªäººè¢«çƒ§æ­»çš„ç…§ç‰‡ï¼Œåªæœ‰ä¸ŠåŠèº«ï¼Œå´è¡€è‚‰æ¨¡ç³Šï¼Œç‹°ç‹å‘å‘•ã€‚ç…§ç‰‡éšç€ç”»é¢ä¸€æ­¥ä¸€æ­¥æ”¾å¤§ã€‚ï¼ˆæˆ‘ä¹Ÿå“æ­»äº†ğŸ˜­ï¼‰</p>
<p>ç”»é¢ä¸€è½¬ï¼Œå¥³å­©åœ¨å®¶ä¸­æ‰“ç€ç”µè¯ï¼šã€Œä¸ä¼šæ˜¯æ¶ä½œå‰§å§ï¼Œå¤ªå˜æ€äº†ã€‚æœ¬æ¥æœ€è¿‘é‡æ„Ÿå†’éš¾å—çš„è¦æ­»ï¼Œè¿˜æœ‰é‚£ä¹ˆå¤šé—¨æ¯•ä¸šè€ƒè¯•è¦å‡†å¤‡ã€‚çƒ¦æ­»äº†ã€ã€Œæœ‰ç‚¹å®³æ€•å”‰ï¼Œè¦ä¸æŠ¥è­¦å§ï¼Ÿä½†æ˜¯è¿™äº›ä¼°è®¡æœ€å¤šä¹Ÿå°±ç«‹ä¸ªæ¡ˆã€ã€Œå“å‘€ï¼ŒçœŸçš„å’Œä»–æŒºä¹…æ²¡è”ç³»äº†ï¼Œä¼°è®¡æƒ³ç”¨è¿™ç§æ–¹å¼é€¼æˆ‘å…ˆæå‡ºåˆ†æ‰‹ï¼Œä»–ä¸ç†æˆ‘ï¼Œæˆ‘ä¹Ÿä¸ç†ä»–ï¼Œå“¼ã€ã€Œå¥½å‘€ï¼Œå¥½å‘€ï¼Œç°åœ¨æˆ‘å°±è¿‡å»ï¼Œåœ¨è¿™ä»Šæ™šæˆ‘è‚¯å®šç¡ä¸ç€ã€ã€‚</p>
<p>ç¬¬äºŒå¤©æ—©ä¸Šï¼Œå¥³å­©å’Œå¥½å‹é“äº†åˆ«ï¼Œåº”è¯¥æ˜¯å›å»æ‹¿ä¸€äº›é‡è¦çš„ä¸œè¥¿ã€‚å†æ¬¡æ¥åˆ°æ¥¼é“é—¨å£ï¼Œå¥³å­©çœ‹äº†ä¸‹ä¿¡ç®±ï¼Œæ‹äº†æ‹èƒ¸å£å‘¼äº†ä¸€å£æ°”ï¼Œåƒæ˜¯ç»™è‡ªå·±æ‰“æ°”ã€‚å†æ¬¡æ‰“å¼€ä¿¡ç®±ï¼Œè¿™æ¬¡é‡Œé¢èººç€ä¸¤å°ä¿¡ï¼Œå¥³å­©æœ‰äº›æƒŠè®¶ï¼Œæ‹¿èµ·ä¿¡å°ï¼Œä¸€å°æ¸…æ™°çš„å°ç€æ˜¯ä»€ä¹ˆåŒ»å¸ˆè¯ä¹¦çš„å›å¯„ï¼Œè€Œå¦å¤–ä¸€å°åˆæ˜¯å’Œæ˜¨å¤©ä¸€æ ·ï¼ŒåŒé¢ç©ºç™½ï¼Œåˆæ˜¯ä¸€å°åŒ¿åä¿¡ã€‚</p>
<p>å¥³å­©çŠ¹è±«ç€è¦ä¸è¦æ‰“å¼€ï¼Œã€Œåˆæ˜¯æ˜¨å¤©é‚£æ ·çš„æ¶ä½œå‰§ï¼Ÿã€ï¼Œå¥³å­©è¿˜æ˜¯æ’•å¼€äº†è¿™å°åŒ¿åä¿¡ï¼Œè¿™æ¬¡è¿˜æ˜¯ä¸€å¼ ç…§ç‰‡ã€‚ä¸€åªæ‰‹æ­£åœ¨ä¸€ä¸ªæ˜æš—çš„æˆ¿é—´ä¸­ï¼Œæ‹¿ç€ä¸€ä¸ªé”¤å­æ•²ç¢ç€ä¸€å…·å°¸ä½“çš„éª¨æ¶ã€‚è¿™æ¬¡å¥³å­©é•‡å®šäº†å¾ˆå¤šï¼Œã€Œæˆ‘å¯æ˜¯å­¦åŒ»çš„ï¼Œè¿™å“ä¸åˆ°æˆ‘ï¼Œæ­»å˜æ€ã€ï¼Œå¥³å­©æŠŠç…§ç‰‡å¡äº†å›å»ï¼Œå°†ä¿¡å°ç›´æ¥æ‰”è¿›äº†è¾¹ä¸Šçš„åƒåœ¾æ¡¶ä¸­ã€‚</p>
<p>ç¬¬ä¸‰å¤©æ—©ä¸Šï¼Œå¥³å­©æ•´è£…å¾…å‘ï¼Œèµ°å‡ºæ¥¼é“ï¼Œç»è¿‡ä¿¡ç®±æ—¶ï¼Œçªç„¶æœ‰äº›çŠ¹è±«ã€‚ä½†è¿˜æ˜¯æ…¢æ…¢çš„è½¬èº«èµ°å‘ä¿¡ç®±ï¼Œç¿»å¼€ä¿¡ç®±ç›–å­ï¼Œé‡Œé¢åˆèººç€ä¸€ä»½åŒé¢ç©ºç™½çš„åŒ¿åä¿¡ã€‚ã€Œæˆ‘é ï¼Œæœ‰å®Œæ²¡å®Œã€ï¼Œå¥³å­©å–å‡ºäº†è¿™å°æ–°çš„ä¿¡ï¼Œå¿«é€Ÿçš„æ’•å¼€äº†ä¿¡å°ã€‚è¿™æ¬¡ä¿¡å°ä¸­æ˜¯ä¸¤å¼ ç…§ç‰‡ã€‚ç¬¬ä¸€å¼ ï¼Œä¸€åªæ‰‹å°†éª¨ç°å¡è¿›ä¸€ä¸ªåƒé¦™çƒŸå¤´çš„å°æ¨¡å…·ä¸­ï¼Œå¤§æ‹‡æŒ‡æ‰‹æŒ‡ç”²ä¸Šè¿˜æ¶‚ç€é²œçº¢çš„æŒ‡ç”²æ²¹ã€‚å¥³å­©çš±äº†ä¸‹çœ‰å¤´ï¼Œæ‹¿èµ·å¦å¤–ä¸€å¼ ã€‚</p>
<p>å¦ä¸€å¼ ï¼Œåˆ™æ˜¯ä¸€ä¸ªè¢«è£…æ»¡è¯å›Šç“¶å­çš„ç‰¹å†™ã€‚</p>
<p>å¥³å­©çªç„¶æ‡µäº†ä¸€ä¸‹ï¼Œå¥½åƒæ„è¯†åˆ°äº†ä»€ä¹ˆã€‚å¿«é€Ÿç¿»èµ·è‡ªå·±åŒ…ä¸­çš„æ„Ÿå†’è¯ç“¶å­ï¼Œå’Œç…§ç‰‡åšäº†ä¸‹æ¯”å¯¹ã€‚å¥³å­©å¹²å‘•äº†å£°ï¼Œå°†æ‰‹ä¸­çš„ç…§ç‰‡å’Œè¯ç“¶å­æ‰”åœ¨äº†åœ°ä¸Šï¼ŒåŒæ‰‹æ‚ä½äº†å˜´å·´ï¼ŒæƒŠæçš„é€€åˆ°äº†å¢™ä¸Šã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è¿™ä¸ªå‘¨æœ«ä¸Šçº¿ä¸€ä¸ªå¸®æœ‹å‹åšçš„ç½‘ç«™ï¼Œé‡åˆ°æŒºå¤šå‘ï¼Œè®°å½•ä¸€ä¸‹]]></title>
        <id>https://zhangajian.com/post/zhe-ge-zhou-mo-shang-xian-yi-ge-bang-peng-you-zuo-de-wang-zhan-yu-dao-ting-duo-keng-ji-lu-yi-xia</id>
        <link href="https://zhangajian.com/post/zhe-ge-zhou-mo-shang-xian-yi-ge-bang-peng-you-zuo-de-wang-zhan-yu-dao-ting-duo-keng-ji-lu-yi-xia">
        </link>
        <updated>2018-05-07T07:56:28.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ç½‘ç«™ä¸Šçº¿æµç¨‹">ç½‘ç«™ä¸Šçº¿æµç¨‹</h1>
<ul>
<li>
<h4 id="è´­ä¹°æœåŠ¡å™¨ç›®å‰é€‰æ‹©çš„æ˜¯é˜¿é‡Œäº‘æœåŠ¡å™¨é€‰æ‹©çš„æ˜¯å…¥é—¨å‹1æ ¸1gå®ä¾‹">è´­ä¹°æœåŠ¡å™¨ï¼Œç›®å‰é€‰æ‹©çš„æ˜¯é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œé€‰æ‹©çš„æ˜¯å…¥é—¨å‹1æ ¸1Gå®ä¾‹</h4>
</li>
<li>
<h5 id="é…ç½®sshè¿æ¥">é…ç½®SSHè¿æ¥</h5>
<blockquote>
<ul>
<li>å¢åŠ æœ¬æœºsshè¿æ¥é…ç½®ï¼Œä¸€èˆ¬æ¿€æ´»å®ä¾‹åï¼Œsshçš„22ç«¯å£æ˜¯é»˜è®¤å¼€æ”¾çš„ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡rootç”¨æˆ·è¿›è¡Œç™»å½•é…ç½®éƒ¨ç½²ç¯å¢ƒï¼Œ</li>
<li>ç™»å½•åˆ°æœåŠ¡å™¨åï¼Œå°†è‡ªå·±çš„å…¬é’¥åŠ å…¥åˆ° <strong>~/.ssh/authorized_keys</strong> é…ç½®æ–‡ä»¶ä¸­å°±å¯ç›´æ¥é€šè¿‡ç§˜é’¥è¿›è¡Œç™»å½•</li>
</ul>
</blockquote>
</li>
<li>
<h5 id="æœåŠ¡å™¨é…ç½®">æœåŠ¡å™¨é…ç½®</h5>
<blockquote>
<ul>
<li>æœåŠ¡å™¨ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS Linux release 7.4.1708 (Core)</li>
<li>å†…å­˜ï¼š1G</li>
<li>CPUï¼š1æ ¸</li>
<li>ç¡¬ç›˜ï¼š40G</li>
</ul>
</blockquote>
<h1 id="ä¸€-å®‰è£…mysql55">ä¸€. å®‰è£…Mysql5.5</h1>
<p>å› ä¸ºæœåŠ¡å™¨é…ç½®æœ‰ç‚¹ä½ï¼Œæ‰€ä»¥è¿™è¾¹é€‰æ‹©å®‰è£…æ¯”è¾ƒä½çš„mysqlç‰ˆæœ¬ã€‚ä»CentOS 7.0å‘å¸ƒä»¥æ¥ï¼Œyumæºä¸­å¼€å§‹ä½¿ç”¨mariadbæ¥ä»£æ›¿MySQLçš„å®‰è£…ã€‚å³ä½¿ä½ è¾“å…¥çš„æ˜¯yum install mysql , æ˜¾ç¤ºçš„ä¹Ÿæ˜¯mariadbçš„å®‰è£…å†…å®¹ï¼Œå› æ­¤ï¼Œå¦‚æœä½¿ç”¨yumå®‰è£…MySQLçš„è¯ï¼Œå°±éœ€è¦å»ä¸‹è½½å®˜æ–¹æŒ‡å®šçš„yumæºã€‚</p>
<p>ç½‘å€ï¼š<a href="https://dev.mysql.com/downloads/repo/yum/">Â https://dev.mysql.com/downloads/repo/yum/</a>ã€‚</p>
<p><strong>1. å…ˆå¸è½½mariadbï¼ŒæŸ¥çœ‹mariadbæ˜¯å¦å·²ç»å®‰è£…</strong></p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]#  yum list installed | grep mariadb
mariadb-libs.x86_64                     1:5.5.56-2.el7                 @anaconda
</code></pre>
<p>è¿›è¡Œå¸è½½</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# yum -y remove mariadb*
Loaded plugins: fastestmirror
Resolving Dependencies
...... 	**çœç•¥è¿‡ç¨‹**

Removed:
  mariadb-libs.x86_64 1:5.5.56-2.el7

Dependency Removed:
  postfix.x86_64 2:2.10.1-6.el7                                                                redhat-lsb-core.x86_64 0:4.1-27.el7.centos.1

Complete!
</code></pre>
<p><strong>2. è·å–yumæºå’Œæ•°æ®åº“å®‰è£…ï¼Œ<a href="https://dev.mysql.com/doc/mysql-yum-repo-quick-guide/en/#repo-qg-yum-fresh-install">å®˜æ–¹æŒ‡å—</a></strong></p>
<pre><code class="language-shell">wget http://repo.mysql.com/yum/mysql-5.5-community/el/6/x86_64/mysql-community-release-el6-5.noarch.rpm 	#MySQL5.5yumæº
</code></pre>
<p>å®‰è£…yumæº</p>
<pre><code class="language-shell">rpm -ivh mysql-5.5-community/el/6/x86_64/mysql-community-release-el6-5.noarch.rpm 
</code></pre>
<p>å®‰è£…å¥½yumæºåï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶è·¯å¾„åœ¨ <strong>/etc/yum.repos.d/mysql-community.repo</strong>ï¼Œè¦å°†5.5çš„enabledæ”¹ä¸º1ï¼Œè€Œ5.6çš„enabledæ”¹ä¸º0</p>
<pre><code class="language-shell"># Enable to use MySQL 5.5
[mysql55-community]
name=MySQL 5.5 Community Server
baseurl=http://repo.mysql.com/yum/mysql-5.5-community/el/6/$basearch/
enabled=1
gpgcheck=1
gpgkey=file:/etc/pki/rpm-gpg/RPM-GPG-KEY-mysql

# Enable to use MySQL 5.6
[mysql56-community]
name=MySQL 5.6 Community Server
baseurl=http://repo.mysql.com/yum/mysql-5.6-community/el/6/$basearch/
enabled=0
gpgcheck=1
gpgkey=file:/etc/pki/rpm-gpg/RPM-GPG-KEY-mysql

# Note: MySQL 5.7 is currently in development. For use at your own risk.
# Please read with sub pages: https://dev.mysql.com/doc/relnotes/mysql/5.7/en/
[mysql57-community-dmr]
name=MySQL 5.7 Community Server Development Milestone Release
baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/6/$basearch/
enabled=0
gpgcheck=1
gpgkey=file:/etc/pki/rpm-gpg/RPM-GPG-KEY-mysql
</code></pre>
<p>ä¿®æ”¹åä¿å­˜é€€å‡ºï¼Œå¼€å§‹å®‰è£…MySQLã€‚åœ¨å®‰è£…ä¹‹å‰ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹æ˜¯å¦å·²æœ‰MySQLå¯å®‰è£…æ–‡ä»¶</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# yum repolist enabled | grep &quot;mysql.*-community.*&quot;
mysql-connectors-community/x86_64 MySQL Connectors Community                  49
mysql-tools-community/x86_64      MySQL Tools Community                       61
mysql55-community/x86_64          MySQL 5.5 Community Server                 449
</code></pre>
<p><strong>3. å®‰è£…mysql</strong></p>
<pre><code class="language-shell"># å®‰è£…clientï¼Œdevelï¼Œserver
yum install mysql-community-client mysql-community-devel mysql-community-server
</code></pre>
<p>å®‰è£…å®Œæ¯•åï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹å½“å‰mysqlç‰ˆæœ¬</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# rpm -qi mysql-community-server
Name        : mysql-community-server
Version     : 5.5.60
Release     : 2.el6
Architecture: x86_64
Install Date: 2018å¹´05æœˆ05æ—¥ æ˜ŸæœŸå…­ 16:26:00
......
</code></pre>
<p><strong>4. å¯åŠ¨mysql</strong></p>
<p>æ‰§è¡Œ <strong>service mysqld start</strong> å¯åŠ¨mysql</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# service mysqld start
Starting mysqld (via systemctl):                           [  OK  ]
</code></pre>
<p>okï¼Œmysqlå®‰è£…å®Œæ¯•</p>
<blockquote>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<p><strong>systemctl start mysqld    #å¯åŠ¨mysqld</strong></p>
<p><strong>systemctl stop mysqld    #åœæ­¢mysqld</strong></p>
<p><strong>systemctl restart mysqld    #é‡å¯mysqld</strong></p>
<p><strong>systemctl enable mysqld   #è®¾ç½®å¼€æœºå¯åŠ¨</strong></p>
<p><strong>systemctl status mysqld    #æŸ¥çœ‹ MySQL Server çŠ¶æ€</strong></p>
</blockquote>
<p><strong>5. æ•°æ®åº“å®‰å…¨è®¾ç½®</strong></p>
<p>è®¾ç½®mysql rootè´¦æˆ·å¯†ç </p>
<pre><code class="language-shell"># mysqladmin -u root password 'new password'
</code></pre>
<p>é‡æ–°ç™»å½•mysqlæŠ¥å¦‚ä¸‹é”™è¯¯</p>
<pre><code class="language-shell">ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)
</code></pre>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œè§£å†³</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# systemctl stop mysqld		**å…³é—­mysqlæœåŠ¡**
[root@iZbp17dq2xryqoixibq5u1Z ~]# mysqld --user=root --skip-grant-tables &amp;		**å…³é—­skip-grant-tables**
[1] 32163
[root@iZbp17dq2xryqoixibq5u1Z ~]# 180505 16:57:08 [Note] mysqld (mysqld 5.5.60) starting as process 32163 ...
180505 16:57:08 [Note] Plugin 'FEDERATED' is disabled.
180505 16:57:08 InnoDB: The InnoDB memory heap is disabled
180505 16:57:08 InnoDB: Mutexes and rw_locks use GCC atomic builtins
180505 16:57:08 InnoDB: Compressed tables use zlib 1.2.3
180505 16:57:08 InnoDB: Using Linux native AIO
180505 16:57:08 InnoDB: Initializing buffer pool, size = 128.0M
180505 16:57:08 InnoDB: Completed initialization of buffer pool
180505 16:57:08 InnoDB: highest supported file format is Barracuda.
180505 16:57:08  InnoDB: Waiting for the background threads to start
180505 16:57:09 InnoDB: 5.5.60 started; log sequence number 1595675
180505 16:57:09 [Note] Server hostname (bind-address): '0.0.0.0'; port: 3306
180505 16:57:09 [Note]   - '0.0.0.0' resolves to '0.0.0.0';
180505 16:57:09 [Note] Server socket created on IP: '0.0.0.0'.
180505 16:57:09 [Note] mysqld: ready for connections.
Version: '5.5.60'  socket: '/var/lib/mysql/mysql.sock'  port: 3306  MySQL Community Server (GPL)
mysql -u root mysql		**ç©ºå¯†ç ç™»å…¥**
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 1
Server version: 5.5.60 MySQL Community Server (GPL)

Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; UPDATE user SET authentication_string=PASSWORD('new password') where USER='root';		**é‡æ–°è®¾ç½®rootå¯†ç **
Query OK, 4 rows affected (0.00 sec)
Rows matched: 4  Changed: 4  Warnings: 0

mysql&gt; FLUSH PRIVILEGES;		**åˆ·æ–°è®¾ç½®**
Query OK, 0 rows affected (0.00 sec)

mysql&gt; quit
Bye
</code></pre>
<h1 id="äºŒ-å®‰è£…phpç¯å¢ƒ">äºŒ. å®‰è£…PHPç¯å¢ƒ</h1>
<p><strong>1. å¼€å§‹å®‰è£…PHPå’ŒPHP-FPM</strong></p>
<p>é¦–å…ˆå®‰è£…EPELã€‚EPELå³Extra Packages for Enterprise Linuxçš„ç®€ç§°ï¼Œæ˜¯ä¸ºä¼ä¸šçº§Linuxæä¾›çš„ä¸€ç»„é«˜è´¨é‡çš„é¢å¤–è½¯ä»¶åŒ…</p>
<pre><code class="language-shell">yum -y install epel-release
</code></pre>
<p>å®‰è£…PHPå’ŒPHP-FPM</p>
<pre><code class="language-shell">yum -y install php php-fpm
</code></pre>
<p>æŸ¥çœ‹PHPç‰ˆæœ¬</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# php -v
PHP 5.4.16 (cli) (built: Mar  7 2018 13:34:47)
Copyright (c) 1997-2013 The PHP Group
Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies
</code></pre>
<p>è¿™æ—¶å‘ç°PHPç‰ˆæœ¬æ˜¯5.4çš„ï¼ŒåŸå› æ˜¯yumé»˜è®¤çš„epel-releaseæºå¤ªä½äº†ï¼Œè€Œæˆ‘éœ€è¦éƒ¨ç½²çš„ç½‘ç«™æ˜¯åŸºäºLaravel5.5å¼€å‘çš„ï¼Œç¯å¢ƒè¦æ±‚ï¼š</p>
<blockquote>
<ul>
<li><strong>PHP &gt;= 7.0.0</strong>		éœ€è¦é‡æ–°å®‰è£…PHP7</li>
<li>PHP OpenSSL æ‰©å±•</li>
<li>PHP PDO æ‰©å±•</li>
<li>PHP Mbstring æ‰©å±•</li>
<li>PHP Tokenizer æ‰©å±•</li>
<li>PHP XML æ‰©å±•</li>
</ul>
</blockquote>
<p>åˆ é™¤ä¹‹å‰å®‰è£…çš„PHPç‰ˆæœ¬</p>
<pre><code class="language-shell">yum remove php* php-common
</code></pre>
<p>æˆ‘ä»¬éœ€è¦æ›´æ¢ä¸‹rpmæºï¼Œæœç´¢epel-releaseæºå¹¶åˆ é™¤åè¿›è¡Œæ›´æ–°</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# rpm -qa | grep epel
epel-release-7-11.noarch
[root@iZbp17dq2xryqoixibq5u1Z ~]# rpm -e epel-release-7-11.noarch
warning: /etc/yum.repos.d/epel.repo saved as /etc/yum.repos.d/epel.repo.rpmsave
[root@iZbp17dq2xryqoixibq5u1Z ~]# rpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpm
Retrieving https://mirror.webtatic.com/yum/el7/epel-release.rpm
warning: /var/tmp/rpm-tmp.PHnPwl: Header V4 RSA/SHA1 Signature, key ID 62e74ca5: NOKEY
Preparing...                          ################################# [100%]
Updating / installing...
   1:epel-release-7-5                 ################################# [100%]
[root@iZbp17dq2xryqoixibq5u1Z ~]# rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
Retrieving https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
warning: /var/tmp/rpm-tmp.ohTozh: Header V4 RSA/SHA1 Signature, key ID 62e74ca5: NOKEY
Preparing...                          ################################# [100%]
Updating / installing...
   1:webtatic-release-7-3             ################################# [100%]
</code></pre>
<p>é‡æ–°å®‰è£…PHPå’Œä¸€äº›ç›¸å…³æ‰©å±•</p>
<pre><code class="language-shell">yum install php72w-cli.x86_64 php72w-common.x86_64 php72w-gd.x86_64 php72w-ldap.x86_64 php72w-mbstring.x86_64 php72w-pdo.x86_64
</code></pre>
<p>å®‰è£…PHP-FPM</p>
<pre><code class="language-shell">yum install php72w-fpm
</code></pre>
<p>å†æ¬¡æŸ¥çœ‹PHPç‰ˆæœ¬</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# php -v
PHP 7.2.4 (cli) (built: Mar 30 2018 08:49:13) ( NTS )
Copyright (c) 1997-2018 The PHP Group
Zend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies
</code></pre>
<p>å¯åŠ¨PHP-FPM</p>
<pre><code class="language-shell">systemctl start php-fpm
systemctl enable php-fpm.service		**å¼€æœºè‡ªå¯åŠ¨**
</code></pre>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<blockquote>
<p>systemctl start php-fpm		# å¯åŠ¨</p>
<p>systemctl stop php-fpm		# åœæ­¢</p>
<p>systemctl restart php-fpm		# é‡å¯</p>
<p>systemctl enable php-fpm		#å¼€æœºè‡ªå¯åŠ¨</p>
</blockquote>
<h1 id="ä¸‰-å®‰è£…nginx">ä¸‰. å®‰è£…Nginx</h1>
<p><strong>1. å¼€å§‹Nginx</strong></p>
<pre><code class="language-shell">yum install nginx
</code></pre>
<p>å®‰è£…å®Œæ¯•åï¼Œå¯åŠ¨Nginx</p>
<pre><code class="language-shell">systemctl start nginx
systemctl enable nginx		**ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨Nginx**
</code></pre>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<blockquote>
<p>fuser -k 80/tcp                     # æ€æ­»80ç«¯å£</p>
<p>nginx -s stop      # åœæ­¢</p>
<p>nginx -s reopen    # é‡å¯</p>
<p>nginx -s reload    # é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶</p>
</blockquote>
<h1 id="å››-ç½‘ç«™éƒ¨ç½²">å››. ç½‘ç«™éƒ¨ç½²</h1>
<p><strong>1. ç”Ÿæˆç§˜é’¥</strong></p>
<pre><code class="language-shell">ssh-keygen -t rsa
</code></pre>
<p>æç¤ºä¸€ç›´å›è½¦å°±è¡Œï¼Œå°†ç”Ÿæˆçš„ç§˜é’¥æ·»åŠ åˆ°é¡¹ç›®æ‰˜ç®¡çš„gitåº“ç½‘ç«™ä¸Šï¼Œå› ä¸ºæˆ‘çš„ç½‘ç«™æ˜¯æ”¾åœ¨Codingä¸Šï¼Œæˆ‘ç›´æ¥æ·»åŠ åœ¨äº†é¡¹ç›®éƒ¨ç½²ç§˜é’¥</p>
<p><strong>2. å…‹éš†é¡¹ç›®</strong></p>
<p>é€šè¿‡ <strong>git clone</strong> å‘½ä»¤å°†é¡¹ç›®æ‹‰å–åˆ°æœåŠ¡å™¨ä¸Šï¼Œæˆ‘è¿™è¾¹å› ä¸ºæ˜¯Nginxï¼Œæ‰€ä»¥æˆ‘æ‹‰å–åˆ° <strong>/var/www/</strong> ç›®å½•ä¸‹ï¼Œ</p>
<p><strong>3. å®‰è£…composer</strong></p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z project_fjylhjjsyxgs]# curl -sS https://getcomposer.org/installer | php
All settings correct for using Composer
Downloading...

Composer (version 1.6.5) successfully installed to: /var/www/project_fjylhjjsyxgs/composer.phar
Use it: php composer.phar
</code></pre>
<p>ç§»åŠ¨composer.pharæ–‡ä»¶åˆ°/usr/local/binç›®å½•ä¸‹Â ï¼Œä½¿å‘½ä»¤å…¨å±€å¯ç”¨ï¼Œå¹¶æ›´æ¢Packagistä¸­å›½å…¨é‡é•œåƒ</p>
<pre><code class="language-shell">mv composer.phar /usr/local/bin/composer
composer config -g repo.packagist composer https://packagist.phpcomposer.com
</code></pre>
<p>é€šè¿‡composerå®‰è£…é¡¹ç›®ä¾èµ–ï¼Œä½†æ˜¯å‡ºç°äº†æŠ¥é”™</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z project_fjylhjjsyxgs]# composer install
Loading composer repositories with package information
Installing dependencies (including require-dev) from lock file
Your requirements could not be resolved to an installable set of packages.

  Problem 1
    - Installation request for phar-io/manifest 1.0.1 -&gt; satisfiable by phar-io/manifest[1.0.1].
    - phar-io/manifest 1.0.1 requires ext-dom * -&gt; the requested PHP extension dom is missing from your system.
  Problem 2
    - Installation request for phpunit/php-code-coverage 5.3.0 -&gt; satisfiable by phpunit/php-code-coverage[5.3.0].
    - phpunit/php-code-coverage 5.3.0 requires ext-dom * -&gt; the requested PHP extension dom is missing from your system.
  Problem 3
    - Installation request for phpunit/phpunit 6.5.7 -&gt; satisfiable by phpunit/phpunit[6.5.7].
    - phpunit/phpunit 6.5.7 requires ext-dom * -&gt; the requested PHP extension dom is missing from your system.
  Problem 4
    - Installation request for theseer/tokenizer 1.1.0 -&gt; satisfiable by theseer/tokenizer[1.1.0].
    - theseer/tokenizer 1.1.0 requires ext-dom * -&gt; the requested PHP extension dom is missing from your system.

  To enable extensions, verify that they are enabled in your .ini files:
    - /etc/php.ini
    - /etc/php.d/bz2.ini
    - /etc/php.d/calendar.ini
    - /etc/php.d/ctype.ini
    - /etc/php.d/curl.ini
    - /etc/php.d/exif.ini
    - /etc/php.d/fileinfo.ini
    - /etc/php.d/ftp.ini
    - /etc/php.d/gd.ini
    - /etc/php.d/gettext.ini
    - /etc/php.d/gmp.ini
    - /etc/php.d/iconv.ini
    - /etc/php.d/json.ini
    - /etc/php.d/ldap.ini
    - /etc/php.d/mbstring.ini
    - /etc/php.d/pdo.ini
    - /etc/php.d/pdo_sqlite.ini
    - /etc/php.d/phar.ini
    - /etc/php.d/shmop.ini
    - /etc/php.d/simplexml.ini
    - /etc/php.d/sockets.ini
    - /etc/php.d/sqlite3.ini
    - /etc/php.d/tokenizer.ini
    - /etc/php.d/xml.ini
    - /etc/php.d/zip.ini
  You can also run `php --ini` inside terminal to see which files are used by PHP in CLI mode.
</code></pre>
<p>Googleåå‘ç°ï¼Œphp-xmlæ‰©å±•æœ‰ä»¥ä¸Šéœ€è¦çš„ç›¸å…³è½¯ä»¶åŒ…</p>
<pre><code class="language-shell">yum install php72w-xml.x86_64
</code></pre>
<p>é‡æ–°æ‰§è¡Œcomposer installå‘½ä»¤ï¼Œä¾èµ–ä¸‹è½½æˆåŠŸ</p>
<p>å¼€å§‹é…ç½®Nginxé…ç½®</p>
<p>æˆ‘æœ¬æœº<strong>homestead</strong>ä¸­çš„Nginxæ˜¯é€šè¿‡ <strong>/etc/nginx/sites-available</strong> ç›®å½•è®¾ç½®å¯¹åº”å¤šåŸŸåçš„nginxé…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯ä¸çŸ¥é“æœåŠ¡å™¨ä¸Šå®‰è£…çš„Nginxï¼Œå´æ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œæ‰€ä»¥æŸ¥çœ‹äº†ä¸‹Nginx.confæ–‡ä»¶ï¼Œå‘ç°httpæ¨¡å—ä¸­æœ‰å¦‚ä¸‹ä¸€æ¡é…ç½®</p>
<pre><code class="language-shell">	æœ¬æœºhomesteadä¸­Nginx.conf
	##
    # Virtual Host Configs
    ##
    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;
    
    æœåŠ¡å™¨ä¸Šå®‰è£…çš„Nginx.conf
	# Load modular configuration files from the /etc/nginx/conf.d directory.
    # See http://nginx.org/en/docs/ngx_core_module.html#include
    # for more information.
    include /etc/nginx/conf.d/*.conf;
</code></pre>
<p>é‚£å¥½å§ï¼Œæˆ‘ä¼°è®¡sites-availableä¹Ÿæ˜¯è½¯è¿æ¥çš„conf.dæˆ–è€…sites-enabledç›®å½•å§ï¼Œæ‰€ä»¥æˆ‘å°±ç›´æ¥å°†å®˜æ–¹æ‰‹å†Œä¸­Nginxé…ç½®å¤åˆ¶äº†ä¸€ä»½åˆ°/etc/nginx/conf.d/åŸŸå.confï¼Œä¿®æ”¹äº†ä¸€äº›é…ç½®</p>
<pre><code class="language-shell">server {
    listen 80;
    server_name åŸŸåæˆ–å…¬ç½‘IP;
    root é¡¹ç›®åœ°å€æŒ‡å‘åˆ°publicç›®å½•;

    add_header X-Frame-Options &quot;SAMEORIGIN&quot;;
    add_header X-XSS-Protection &quot;1; mode=block&quot;;
    add_header X-Content-Type-Options &quot;nosniff&quot;;

    index index.html index.htm index.php;

    charset utf-8;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_split_path_info ^(.+\.php)(/.+)$;
        fastcgi_pass unix:/var/run/php/php7.2-fpm.sock;		**è¿™é‡Œæœ‰ä¸ªå‘ä¸‹é¢è®²**
        fastcgi_index index.php;
        include fastcgi_params;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }
}
</code></pre>
<p>é…ç½®å®Œæ¯•ï¼Œä¿å­˜é€€å‡ºï¼Œé€šè¿‡åŸŸåè®¿é—®ï¼Œå‘ç°æŠ¥502é”™è¯¯ï¼ŒæŸ¥çœ‹ä¸‹Nginxçš„é”™è¯¯æ—¥å¿—ï¼Œå‘ç°æŠ¥å¦‚ä¸‹é”™è¯¯</p>
<pre><code class="language-shell">2018/05/06 20:17:37 [crit] 5898#0: *66 connect() to unix:/var/run/php/php7.2-fpm.sock failed (2: No such file or directory) while connecting to upstream,
</code></pre>
<p>ç®€å•çš„è®²ä¸‹ï¼Œphp-fpm.sockæ–‡ä»¶å°±æ˜¯è®©Nginxå’ŒPHP-FPMçš„è¿›ç¨‹é—´è¿›è¡Œé€šä¿¡çš„æ–‡ä»¶ï¼Œå…·ä½“çš„å«ä¹‰ï¼Œè¿™è¾¹å°±ä¸åšè¯¦ç»†ä»‹ç»äº†ã€‚è¿›è¿™ä¸ªç›®å½•æŸ¥çœ‹ä¸‹æ˜¯å¦å­˜åœ¨è¿™ä¸ªç›®å½•æˆ–æ–‡ä»¶ï¼Œå‘ç°ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>ç›®å½•é”™è¯¯ï¼Œä¸æ˜¯/var/run/phpï¼Œè€Œæ˜¯/var/run/php-fpm</li>
<li>php7.2-fpm.sockè¿™ä¸ªæ–‡ä»¶æœªç”Ÿæˆ</li>
</ul>
<p><strong>æœªç”ŸæˆåŸå› </strong>ï¼šphp5.3ä¹‹åçš„ç‰ˆæœ¬ï¼Œphp-fpm.confé‡Œçš„listençš„é»˜è®¤é…ç½®æ˜¯127.0.0.1:9000ï¼Œä¹Ÿå°±æ˜¯tcpçš„æ–¹å¼ï¼Œä¸ä¼šç”Ÿæˆphp-fpm.sockã€‚</p>
<p>å› ä¸ºè¿™æ¬¡ä¸Šçº¿çš„ç½‘ç«™æ²¡æœ‰ä»€ä¹ˆå¹¶å‘é‡ï¼Œunix socketæ–¹å¼è¦æ¯”tcpçš„æ–¹å¼å¿«è€Œä¸”æ¶ˆè€—èµ„æºå°‘ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯é‡‡ç”¨unix socketæ–¹å¼ã€‚å®šä½åˆ°é—®é¢˜åï¼Œä¿®æ”¹ä¸‹ <strong>/etc/php-fpm.d/www.conf</strong>ï¼Œä¹Ÿå°±æ˜¯php-fpmçš„é…ç½®æ–‡ä»¶ï¼Œå…³é—­åŸæ¥çš„listenæ–¹å¼ï¼Œç„¶åé‡å¯ä¸‹php-fpm</p>
<pre><code class="language-shell">;listen = 127.0.0.1:9000
listen = /var/run/php-fpm/php7.2-fpm.sock
</code></pre>
<p>è¿™ä¸ªæ—¶å€™ï¼Œç”±äºèŒä¸šä¹ æƒ¯ï¼Œæƒ³æŠŠNginxä¹Ÿé‡å¯ä¸‹ï¼Œç„¶åå°±åˆç¢°åˆ°äº†ä¸€ä¸ªé—®é¢˜</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z project_fjylhjjsyxgs]# nginx -s stop
[root@iZbp17dq2xryqoixibq5u1Z project_fjylhjjsyxgs]# nginx -s reload
nginx: [error] open() &quot;/run/nginx.pid&quot; failed (2: No such file or directory)
</code></pre>
<p>è¿™åº”è¯¥æ˜¯å› ä¸ºæŠŠNginxè¿›ç¨‹æ€æ­»åpidä¸¢å¤±äº†ï¼Œä¸‹ä¸€æ¬¡å†å¼€å¯nginx -s reloadæ—¶æ— æ³•å¯åŠ¨ã€‚å†æ¬¡é¢å‘Googleç¼–ç¨‹ï¼Œå‘ç°è¿˜æœ‰æŒºå¤šäººç¢°åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥è§£å†³æ–¹æ³•é©¬ä¸Šå°±èƒ½æœç´¢åˆ°äº†ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p>
<pre><code class="language-shell">nginx -c /etc/nginx/nginx.conf
nginx -s reload
</code></pre>
<p>okï¼Œæ¥ç€Navicatè¿œç¨‹è¿æ¥åˆ°æœåŠ¡å™¨æ•°æ®åº“ï¼Œsourceä¸‹æ•°æ®åº“å®Œæ¯•ã€‚ç°çœ‹èµ·æ¥åº”è¯¥æ˜¯å¯ä»¥è·‘èµ·ç½‘ç«™æ¥äº†ã€‚å†æ¬¡è®¿é—®åŸŸåï¼Œå‘ç°è¿˜æ˜¯502ï¼Œå†æ¬¡æŸ¥çœ‹Nginxæ—¥å¿—ï¼ŒæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<pre><code class="language-shell">2018/05/06 20:37:00 [crit] 6078#0: *1 connect() to unix:/var/run/php-fpm/php7.2-fpm.sock failed (13: Permission denied) while connecting to upstream,
</code></pre>
<p>å’Œä¸Šé¢æŠ¥é”™çœ‹èµ·æ¥å·®ä¸å¤šï¼Œä½†æ˜¯è¿™æ¬¡ä¸»è¦é—®é¢˜å‡ºåœ¨è·‘Nginxçš„ç”¨æˆ·æ˜¯Nginxï¼Œè€Œphp-fpm.sockè¿™ä¸ªæ–‡ä»¶ï¼Œç›‘å¬çš„Nginxç”¨æˆ·æ²¡æœ‰è¯¥æƒé™ï¼Œå¯¼è‡´Nginxæ— æ³•è®¿é—®php-fpm.sockè¿™ä¸ªæ–‡ä»¶ï¼Œè‡ªç„¶ç›‘å¬å°±å¤±å»äº†æ•ˆæœï¼Œå†æ¬¡ä¿®æ”¹php-fpmé…ç½®æ–‡ä»¶å’Œé‡å¯ä¸‹php-fpm</p>
<pre><code class="language-shell">; Set permissions for unix socket, if one is used. In Linux, read/write
; permissions must be set in order to allow connections from a web server. Many
; BSD-derived systems allow connections regardless of permissions.
; Default Values: user and group are set as the running user
;                 mode is set to 0660
listen.owner = nginx
listen.group = nginx
listen.mode = 0660
</code></pre>
<p>é‡æ–°è®¿é—®ä¸‹åŸŸåï¼Œå‘ç°è®¿é—®ä»»ä½•è·¯ç”±éƒ½æ˜¯ç™½å±ï¼Œè¿™æ¬¡çŠ¶æ€ç éƒ½æ˜¯200äº†ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œå†æ¬¡é¢å‘Googleç¼–ç¨‹â€¦â€¦å‘ç°é—®é¢˜ï¼š</p>
<blockquote>
<p>ç”±äºnginxä¸php-fpmä¹‹é—´çš„ä¸€ä¸ªå°bugï¼Œä¼šå¯¼è‡´è¿™æ ·çš„ç°è±¡ï¼š ç½‘ç«™ä¸­çš„é™æ€é¡µé¢Â <em>.html éƒ½èƒ½æ­£å¸¸è®¿é—®ï¼Œè€Œ</em>Â .php æ–‡ä»¶è™½ç„¶ä¼šè¿”å›200çŠ¶æ€ç ï¼Œ ä½†å®é™…è¾“å‡ºç»™æµè§ˆå™¨çš„é¡µé¢å†…å®¹å´æ˜¯ç©ºç™½ã€‚ ç®€è€Œè¨€ä¹‹ï¼ŒåŸå› æ˜¯nginxæ— æ³•æ­£ç¡®çš„å°† *.php æ–‡ä»¶çš„åœ°å€ä¼ é€’ç»™php-fpmå»è§£æï¼Œ ç›¸å½“äºphp-fpmæ¥å—åˆ°äº†è¯·æ±‚ï¼Œä½†è¿™è¯·æ±‚å´æŒ‡å‘ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œäºæ˜¯è¿”å›ç©ºç»“æœã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦æ”¹åŠ¨nginxé»˜è®¤çš„fastcgiparamsé…ç½®æ–‡ä»¶</p>
</blockquote>
<p>åœ¨ <strong>/etc/nginx/fastcgi_params</strong> æ–‡ä»¶çš„æœ€åå¢åŠ ä¸¤è¡Œï¼š</p>
<pre><code class="language-shell">fastcgi_param SCRIPT_FILENAME  $document_root$fastcgi_script_name;  
fastcgi_param PATH_INFO     $fastcgi_script_name;  
</code></pre>
<p>å†å†å†æ¬¡è®¿é—®åŸŸåï¼Œç»ˆäºæ­£å¸¸æ˜¾ç¤ºäº†ï¼Œä½†æ˜¯é¡µé¢ä¸Šåˆå‡ºç°äº†æ–°çš„é”™è¯¯ï¼š</p>
<blockquote>
<p><strong>could not find driverï¼ˆselect * from users where deleted = 0ï¼‰</strong></p>
</blockquote>
<p>ä»»ä½•æœ‰sqlæŸ¥è¯¢çš„é¡µé¢éƒ½æŠ¥å¦‚ä¸Šé”™è¯¯ï¼Œè¿™ä¸ªé”™è¯¯å¤šåŠæ˜¯å› ä¸ºpdo_mysqlæœªæ‰“å¼€æˆ–è€…æœªå®‰è£…æ­¤æ¨¡å—é€ æˆï¼Œæ‰§è¡Œ <strong>php -m</strong> å‘ç°è¿˜çœŸæ²¡è£…ï¼Œå®‰è£…php72w-mysqlçš„åˆé‡åˆ°ä¸€ä¸ªå‘</p>
<pre><code class="language-shell">yum install php72w-mysql
</code></pre>
<p>æŠ¥å¦‚ä¸‹é”™è¯¯ï¼Œè¯´ç¼ºå°‘libmysqlclient.so.18ä¾èµ–</p>
<pre><code class="language-shell">......
error: package: php72w-mysql 
requires: libmysqlclient.so.18(libmysqlclient_18)(64bit)
Available: 1:mariadb-libs-5.5.52-1.el7.x86_64 (base)
           libmysqlclient.so.18(libmysqlclient_18)(64bit)
......
</code></pre>
<p>è¿™å°±å¾ˆå¥‡æ€ªäº†ï¼ŒæŸ¥çœ‹ç”¨æˆ·åº“æ–‡ä»¶ç›®å½•å†…libmysqlclient.so.18å·²ç»å­˜åœ¨</p>
<pre><code class="language-shell">[root@iZbp17dq2xryqoixibq5u1Z ~]# ll /usr/lib64/mysql/libmysqlclient.so.18
libmysqlclient.so.18      libmysqlclient.so.18.1.0
</code></pre>
<p>è¿™ä¸ªå‘èŠ±äº†ä¸€ä¸ªå°æ—¶ï¼ŒGoogleå¤šæ¬¡å°è¯•æ— æœåï¼Œè®¤çœŸæ€è€ƒä¸‹å¯èƒ½çš„åŸå› ï¼Œæƒ³äº†æƒ³å¯èƒ½æ˜¯mysqlç‰ˆæœ¬çš„é—®é¢˜ï¼Œä¿®æ”¹ä¸‹ <strong>/etc/yum.repos.d/mysql-community.repo</strong> é…ç½®æ–‡ä»¶ï¼Œå°†5.6çš„enabledè®¾ä¸º1ï¼Œ5.5è®¾ä¸º0ï¼Œæ›´æ–°Mysqlç‰ˆæœ¬åï¼Œå†æ¬¡æ‰§è¡Œ <strong>yum install php72w-mysql</strong> æˆåŠŸå®‰è£…pdo_mysqlæ¨¡å—â€¦...</p>
<h1 id="è‡³æ­¤ç½‘ç«™è®¿é—®ç»ˆäºæˆåŠŸ">è‡³æ­¤ï¼Œç½‘ç«™è®¿é—®ç»ˆäºæˆåŠŸï¼</h1>
<p>åç»­çš„éƒ¨ç½²ä¼˜åŒ–ï¼Œå¦å¤–å¼€ç¯‡è®°å½•ã€‚</p>
</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[PHPçš„è½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿ-Composer]]></title>
        <id>https://zhangajian.com/post/php-de-ruan-jian-bao-guan-li-xi-tong-composer</id>
        <link href="https://zhangajian.com/post/php-de-ruan-jian-bao-guan-li-xi-tong-composer">
        </link>
        <updated>2017-10-07T07:57:56.000Z</updated>
        <content type="html"><![CDATA[<img src="https://getcomposer.org/img/logo-composer-transparent.png" style="zoom:50%" alt="composer" />  
<h1 id="ä¸€-what-is-composer">ä¸€. What is composer?</h1>
<blockquote>
<p>æ˜¯ PHP ç”¨æ¥ç®¡ç†ä¾èµ–ï¼ˆdependencyï¼‰å…³ç³»çš„å·¥å…·ã€‚ä½ å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å£°æ˜æ‰€ä¾èµ–çš„å¤–éƒ¨å·¥å…·åº“ï¼ˆlibrariesï¼‰ï¼ŒComposer ä¼šå¸®ä½ å®‰è£…è¿™äº›ä¾èµ–çš„åº“æ–‡ä»¶ã€‚  ---- <a href="http://docs.phpcomposer.com/00-intro.html">Composeræ–‡æ¡£</a></p>
</blockquote>
<p>è¿™è¾¹çš„ä¾èµ–å¯ä»¥ç†è§£ä¸ºå„ç§å¼€å‘åŒ…æˆ–è€…æ’ä»¶ï¼Œå½“æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·åº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾€å¾€è¦ä»å®˜ç½‘æˆ–è€…ä¸€äº›åˆ«çš„å…¶ä»–é€”å¾„æ¥è·å–æºæ–‡ä»¶ï¼Œå¹¶æ”¾å…¥åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œé€šè¿‡æ‰‹åŠ¨<strong>require</strong>çš„æ–¹å¼å¼•ç”¨ã€‚å½“ç„¶æˆ‘ä»¬å¤§éƒ¨åˆ†ä¼šé€šè¿‡å†™ä¸€ä¸ª<strong>è‡ªåŠ¨åŠ è½½</strong>æ–¹æ³•æ¥è¿›è¡Œ<strong>require</strong>ã€‚ä½†å½“æˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒå¤§çš„ç¬¬ä¸‰æ–¹å·¥å…·åº“æ—¶ï¼Œå¯èƒ½å®ƒçš„å…¶ä¸­åˆå»ä¾èµ–äº†æ›´å¤šåˆ«çš„ç¬¬ä¸‰æ–¹åŒ…ã€‚è€Œä¸”å¾€å¾€æœ‰æ—¶å€™å·¥å…·åº“çš„ç‰ˆæœ¬æ›´æ–°å¯èƒ½ä¼šä¸å…¼å®¹æ—§ç‰ˆæœ¬ï¼Œæˆ‘ä»¬æ‰‹åŠ¨å»è¿›è¡Œä¾èµ–é‚£å°†ä¼šæ˜¯ä¸€ä»¶ç—›è‹¦çš„äº‹æƒ…ã€‚<br/></p>
<h4 id="é‚£ä¹ˆcompserèƒ½ä¸ºæˆ‘ä»¬è§£å†³å“ªäº›é—®é¢˜">é‚£ä¹ˆCompserèƒ½ä¸ºæˆ‘ä»¬è§£å†³å“ªäº›é—®é¢˜ï¼š</h4>
<blockquote>
<ul>
<li>a) ä½ æœ‰ä¸€ä¸ªé¡¹ç›®ä¾èµ–äºè‹¥å¹²ä¸ªåº“ã€‚</li>
<li>b) å…¶ä¸­ä¸€äº›åº“ä¾èµ–äºå…¶ä»–åº“ã€‚</li>
<li>c) ä½ å£°æ˜ä½ æ‰€ä¾èµ–çš„ä¸œè¥¿ã€‚</li>
<li>d) Composer ä¼šæ‰¾å‡ºå“ªä¸ªç‰ˆæœ¬çš„åŒ…éœ€è¦å®‰è£…ï¼Œå¹¶å®‰è£…å®ƒä»¬ï¼ˆå°†å®ƒä»¬ä¸‹è½½åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼‰ã€‚</li>
</ul>
</blockquote>
 <br>
<h1 id="äºŒ-å¼€å§‹ä½¿ç”¨composer">äºŒ. å¼€å§‹ä½¿ç”¨Composer</h1>
<blockquote>
<p>ç³»ç»Ÿè¦æ±‚: è¿è¡Œ Composer éœ€è¦ PHP 5.3.2+ ä»¥ä¸Šç‰ˆæœ¬ã€‚<br/>
å®‰è£…Composer: <a href="http://docs.phpcomposer.com/00-intro.html#Installation-*nix">Composeræ–‡æ¡£-å®‰è£…</a></p>
</blockquote>
<h4 id="composerçš„åŒ…ç‰ˆæœ¬ç¬¦å·">Composerçš„åŒ…ç‰ˆæœ¬ç¬¦å·</h4>
<p>composerçš„ä¾èµ–å£°æ˜é€šå¸¸éƒ½å†™åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<strong>composer.json</strong>æ–‡ä»¶ä¸­ï¼Œé€šè¿‡<strong>JSON format</strong>çš„æ–¹å¼è¿›è¡Œç¼–å†™ï¼Œå°±åƒè¿™æ ·å­ï¼š</p>
<pre><code>{
    &quot;require&quot;: {
        &quot;monolog/monolog&quot;: &quot;1.0.*&quot;
    }
}
</code></pre>
<p><strong>require</strong>æ˜¯æŒ‡å®šKeyï¼Œæˆ‘ä»¬éœ€è¦åšçš„ï¼Œå°±æ˜¯åœ¨è¿™ä¸ªæŒ‡å®škeyä¸­å¢åŠ æˆ‘ä»¬éœ€è¦çš„ä¾èµ–åŒ… (&quot;monolog/monolog&quot;) å’ŒæŒ‡å®šçš„ç‰ˆæœ¬ (&quot;1.0.*&quot;),é‚£ä¹ˆåœ¨ä½¿ç”¨å‰ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“composerä¸­æ˜¯æ€ä¹ˆå£°æ˜æˆ‘ä»¬éœ€è¦ä¾èµ–çš„åŒ…ç‰ˆæœ¬çš„
<a href="https://docs.phpcomposer.com/01-basic-usage.html#Package-Versions" title="ç‚¹å‡»é“¾æ¥æŸ¥çœ‹">:point_right:ç‚¹å‡»é“¾æ¥æŸ¥çœ‹</a></p>
<h4 id="composer-installå’Œupdate">Composer installå’Œupdate</h4>
<p>å¦‚æœcomposerå·²ç»å®‰è£…æˆåŠŸçš„è¯ï¼Œå¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ &quot;composer&quot; å‘½ä»¤æ¥æŸ¥çœ‹å‘½ä»¤åˆ—è¡¨ï¼Œä½†åœ¨å¤§éƒ¨åˆ†çš„æ—¶å€™ï¼Œä½¿ç”¨é¢‘ç‡æœ€é«˜çš„æ˜¯<strong>install</strong>å’Œ<strong>update</strong>å‘½ä»¤ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä½¿ç”¨composerå®‰è£…å’Œæ›´æ–°ä¾èµ–åŒ…ã€‚æ¯”å¦‚æˆ‘ä»¬å·²ç»åœ¨é¡¹ç›®çš„composer.jsonä¸­å£°æ˜äº†ä¾èµ–</p>
<pre><code>{
  &quot;require&quot;:{
    &quot;mustache/mustache&quot;:&quot;2.8.0&quot;
  }
}
</code></pre>
<p>åœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥æ‰§è¡Œ &quot;composer install&quot;ï¼Œå°±èƒ½ç›´æ¥å°†è¿™ä¸ªå·¥å…·åº“ä¾èµ–åˆ°æˆ‘ä»¬ç³»ç»Ÿä¸­</p>
<pre><code>$ composer install
Loading composer repositories with package information
Updating dependencies (including require-dev)
Package operations: 1 install, 0 updates, 0 removals
  - Installing mustache/mustache (v2.8.0): Downloading (100%)
Writing lock file
Generating autoload files
</code></pre>
<p>å†æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå°±èƒ½å‘ç°æ–°å¢äº†<strong>vendor</strong>æ–‡ä»¶å¤¹å’Œ<strong>composer.lock</strong>æ–‡ä»¶ï¼Œvendorç›®å½•å­˜æ”¾æ˜¯composerçš„<strong>è‡ªåŠ¨åŠ è½½</strong>æ–‡ä»¶å’Œæˆ‘ä»¬åˆšåˆšä¸‹è½½çš„å·¥å…·åº“ï¼Œcomposer.lockæ–‡ä»¶æ˜¯åœ¨å®‰è£…ä¾èµ–åï¼Œcomposerå°†æŠŠå®‰è£…æ—¶ç¡®åˆ‡çš„ç‰ˆæœ¬å·åˆ—è¡¨(composer.jsonå®šä¹‰çš„)å†™å…¥composer.lock æ–‡ä»¶ä¸­ï¼Œé”å®šé¡¹ç›®æ‰€ä½¿ç”¨çš„åŒ…ç‰ˆæœ¬ã€‚<strong>è¿™æ ·åšçš„æ„ä¹‰æ˜¯ï¼š</strong></p>
<blockquote>
<ol>
<li>åœ¨æäº¤é¡¹ç›®çš„æ—¶å€™ï¼Œè¯·å°†lockæ–‡ä»¶ä¹Ÿæäº¤ï¼Œè¿™æ ·åœ¨å›¢é˜Ÿå¼€å‘ä¸­ï¼Œå¦‚æœæœ‰åˆ«çš„æˆå‘˜è¿›å…¥å¼€å‘ï¼Œå»ºç«‹é¡¹ç›®æ—¶éƒ½å°†ä¸‹è½½ä¸æŒ‡å®šç‰ˆæœ¬å®Œå…¨ç›¸åŒçš„ä¾èµ–ï¼Œå‡è½»æ½œåœ¨çš„éƒ¨ç½²é”™è¯¯ã€‚</li>
<li>å½“æˆ‘ä»¬çš„é¡¹ç›®ææµ…å¾ˆä¹…ï¼Œåœ¨å‡ ä¸ªæœˆåé‡æ–°å®‰è£…é¡¹ç›®ï¼Œä¹Ÿèƒ½æ­£å¸¸çš„ç»§ç»­å·¥ä½œï¼Œå°½ç®¡å¯èƒ½é¡¹ç›®çš„ä¾èµ–åŒ…å·²ç»å‘å¸ƒäº†å¾ˆå¤šæ–°ç‰ˆæœ¬ã€‚</li>
</ol>
</blockquote>
<p>æ‰€ä»¥ï¼Œå¦‚æœå·²ç»å­˜åœ¨lockæ–‡ä»¶çš„è¯ï¼Œæˆ‘ä»¬è¦æ›´æ–°åœ¨ä½¿ç”¨çš„ä¾èµ–ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ‰§è¡Œ &quot;composer update&quot; å‘½ä»¤è¿›è¡Œæ›´æ–°ï¼Œupdateå‘½ä»¤ä¼šä»æ–°è¯»å–composer.jsonçš„æ–‡ä»¶ï¼Œæ›´æ–°æ‰€å£°æ˜ä¾èµ–ç‰ˆæœ¬å¹¶é‡æ–°è¯»å†™composer.lockæ–‡ä»¶ã€‚è¿™è¾¹æˆ‘å°†composer.jsonä¸­çš„ä¾èµ–ç‰ˆæœ¬å£°æ˜ä¸º &quot;v2.9.0&quot;æ‰§è¡Œå‘½ä»¤</p>
<pre><code>$ composer update
Loading composer repositories with package information
Updating dependencies (including require-dev)
Package operations: 0 installs, 1 update, 0 removals
  - Updating mustache/mustache (v2.8.0 =&gt; v2.9.0): Loading from cache
Writing lock file
Generating autoload files
</code></pre>
<p>å¯ä»¥é€šè¿‡ &quot;composer show -i&quot; å‘½ä»¤æŸ¥çœ‹å½“å‰å·²ç»å®‰è£…çš„ä¾èµ–åŒ…ç‰ˆæœ¬</p>
<pre><code>$ composer show -i
mustache/mustache v2.9.0 A Mustache implementation in PHP.
</code></pre>
<h1 id="ä¸‰-åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¾èµ–åŒ…">ä¸‰. åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¾èµ–åŒ…</h1>
<p>composeræä¾›äº†<strong>è‡ªåŠ¨åŠ è½½</strong>æ–‡ä»¶æ¥æä¾›è‡ªåŠ¨åŠ è½½æ”¯æŒï¼Œæˆ‘ä»¬åªè¦åœ¨é¡¹ç›®çš„å…¥å£æ–‡ä»¶ä¸­æ·»åŠ è¿™è¡Œä»£ç </p>
<pre><code class="language-php">&lt;?php
    require &quot;vendor/autoload.php&quot;;

    $obj = new Mustache_Engine();
    $obj-&gt;render('Hello world');
</code></pre>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>]]></content>
    </entry>
</feed>